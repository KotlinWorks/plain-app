import{d as y,u as _,p as b,r as B,i as I,t as g,aF as h,K as v,L as i,M as T,o as u,c as l,A as C,w as D,z as M,g as m,F as S,E as q,B as A,U as E}from"./index-df35a132.js";const F=["onClick"],Q=y({__name:"BucketFilter",props:{bucketType:{type:String,required:!0},selected:{type:String,required:!0}},setup(n){const a=n,{t:p}=_(),k=b(),c=B([]),{refetch:d}=I({handle:(e,s)=>{s?g(p(s),"error"):e&&(c.value=e.mediaBuckets)},document:h,variables:{type:a.bucketType},appApi:!0});function f(e){const s=q([{name:"bucket_id",op:"",value:e.id}]);A(k,`/${{AUDIO:"audios",IMAGE:"images",VIDEO:"videos"}[a.bucketType]}?q=${E(s)}`)}const o=e=>{e.items.some(t=>t.bucketId)&&e.tagType===a.bucketType&&d()},r=e=>{e.item.bucketId&&e.tagType===a.bucketType&&d()};return v(()=>{i.on("media_items_deleted",o),i.on("media_item_deleted",r)}),T(()=>{i.off("media_items_deleted",o),i.off("media_item_deleted",r)}),(e,s)=>(u(!0),l(S,null,C(c.value,t=>(u(),l("li",{key:t.id,onClick:D(w=>f(t),["prevent"]),class:M({active:n.selected&&t.id===n.selected})},m(t.name)+" ("+m(t.itemCount)+") ",11,F))),128))}});export{Q as _};

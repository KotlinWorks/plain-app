import{d as _,u as k,a as v,r as B,i as I,t as h,aE as D,aF as S,$ as n,aG as g,o as l,e as u,A as C,w as b,z as q,j as m,F as A,D as E,n as F,S as M}from"./index-2c8e7849.js";const $=["onClick"],Q=_({__name:"BucketFilter",props:{type:{type:String,required:!0},selected:{type:String,required:!0}},setup(i){const s=i,{t:p}=k(),f=v(),o=B([]),{refetch:d}=I({handle:(e,a)=>{a?h(p(a),"error"):e&&(o.value=e.mediaBuckets)},document:D,variables:{type:s.type},appApi:!0});function y(e){const a=E([{name:"bucket_id",op:"",value:e.id}]);F(f,`/${{AUDIO:"audios",IMAGE:"images",VIDEO:"videos"}[s.type]}?q=${M(a)}`)}const r=e=>{e.type===s.type&&d()},c=e=>{e.item.bucketId&&e.type===s.type&&d()};return S(()=>{n.on("media_items_deleted",r),n.on("media_item_deleted",c)}),g(()=>{n.off("media_items_deleted",r),n.off("media_item_deleted",c)}),(e,a)=>(l(!0),u(A,null,C(o.value,t=>(l(),u("li",{key:t.id,onClick:b(w=>y(t),["prevent"]),class:q({active:i.selected&&t.id===i.selected})},m(t.name)+" ("+m(t.itemCount)+") ",11,$))),128))}});export{Q as _};

import{b as Le,u as Be,_ as Qe,a as Ze}from"./list-e3388e63.js";import{_ as Re}from"./call-outline-rounded-fa03bcaa.js";import{_ as ze}from"./FieldId-7f31c269.js";import{_ as Ke}from"./Multiselect-a3c8b9c6.js";import{_ as Oe}from"./Dropdown.vuevuetypescriptsetuptruelang-0680b1f0.js";import{_ as je}from"./Breadcrumb-a2d00dde.js";import{o as l,c as a,b as e,d as de,r as M,a0 as ye,a1 as ne,C as ke,Q as ee,v as K,J as h,N as ge,L as Ce,g as p,K as k,f as n,a2 as Ee,A as we,u as qe,U as ae,a3 as pe,a4 as me,k as q,e as g,F as v,y as b,x as G,a5 as H,a6 as Ge,a7 as He,p as Je,s as Xe,a as Ye,n as We,B as Pe,a8 as xe,D as et,t as _e,a9 as tt,i as ot,aa as st,G as lt,H as nt,I as at,V as dt,w as J,M as he,ab as ct,j as ut,O as it,P as rt,z as ve,R as be,ac as fe,X as le,Y as pt}from"./index-bf00d94e.js";import{n as mt}from"./list-6498ebd9.js";import{_ as _t}from"./DeleteConfirm.vuevuetypescriptsetuptruelang-aece5a82.js";import{_ as Te}from"./VModal.vuevuetypescriptsetuptruelang-31725e85.js";import{u as Ve,a as Ne}from"./vee-validate.esm-4409073a.js";import{u as ht,a as vt,b as bt}from"./tags-ac73dd49.js";import{b as ft,a as $t}from"./search-26cd7c25.js";import"./baseIndexOf-70b929c6.js";const yt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},kt=e("path",{fill:"currentColor",d:"M7 21q-.825 0-1.413-.588T5 19V6q-.425 0-.713-.288T4 5q0-.425.288-.713T5 4h4q0-.425.288-.713T10 3h4q.425 0 .713.288T15 4h4q.425 0 .713.288T20 5q0 .425-.288.713T19 6v13q0 .825-.588 1.413T17 21H7ZM7 6v13h10V6H7Zm2 10q0 .425.288.713T10 17q.425 0 .713-.288T11 16V9q0-.425-.288-.713T10 8q-.425 0-.713.288T9 9v7Zm4 0q0 .425.288.713T14 17q.425 0 .713-.288T15 16V9q0-.425-.288-.713T14 8q-.425 0-.713.288T13 9v7ZM7 6v13V6Z"},null,-1),gt=[kt];function Ct(T,f){return l(),a("svg",yt,gt)}const wt={name:"material-symbols-delete-outline-rounded",render:Ct},qt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Tt=e("path",{fill:"currentColor",d:"M6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 7.825L8.1 11.7q-.275.275-.688.288T6.7 11.7Zm0 6q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212t.375-.063q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 13.825L8.1 17.7q-.275.275-.688.288T6.7 17.7Z"},null,-1),Vt=[Tt];function Nt(T,f){return l(),a("svg",qt,Vt)}const Ut={name:"material-symbols-keyboard-double-arrow-up-rounded",render:Nt},Mt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},At=e("path",{fill:"currentColor",d:"M12 12.575q-.2 0-.375-.062T11.3 12.3L6.7 7.7q-.275-.275-.288-.688T6.7 6.3q.275-.275.7-.275t.7.275l3.9 3.875L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Zm0 6q-.2 0-.375-.062T11.3 18.3l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275l3.9 3.875l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Z"},null,-1),St=[At];function Ft(T,f){return l(),a("svg",Mt,St)}const It={name:"material-symbols-keyboard-double-arrow-down-rounded",render:Ft};function E(T){return Array.from({length:T},(f,D)=>D+1).concat(-1)}const X={phoneNumberTypes:E(20),emailTypes:E(4),addressTypes:E(3),eventTypes:E(3),imTypes:E(8),websiteTypes:E(7)},Dt=de({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String}},setup(T){const f=T,{handleSubmit:D}=Ve(),c=M(),{value:$,resetField:C,errorMessage:V}=Ne("inputValue",ye().required()),L=D(()=>{f.do($.value??""),ne()});return $.value=f.value,f.value||C(),(async()=>{var N;await ke(),(N=c.value)==null||N.focus()})(),(N,y)=>{const S=Te;return l(),ee(S,{title:T.title},{body:K(()=>[h(e("input",{ref_key:"inputRef",ref:c,type:"text",class:"form-control","onUpdate:modelValue":y[0]||(y[0]=w=>ge($)?$.value=w:null),onKeyup:y[1]||(y[1]=Ce((...w)=>p(L)&&p(L)(...w),["enter"]))},null,544),[[k,p($)]]),h(e("div",{class:"invalid-feedback"},n(p(V)?N.$t(p(V)):""),513),[[Ee,p(V)]])]),action:K(()=>[e("button",{type:"button",class:"btn",onClick:y[2]||(y[2]=(...w)=>p(L)&&p(L)(...w))},n(N.$t("ok")),1)]),_:1},8,["title"])}}}),Lt={class:"row mb-3"},Bt={class:"col-md-3 col-form-label"},Qt={class:"col-md-3"},Zt=["placeholder"],Rt={key:0,class:"col-md-3"},zt=["placeholder"],Kt={class:"col-md-3"},Ot=["placeholder"],jt={key:1,class:"col-md-3"},Et={key:0,class:"row mb-3"},Gt={class:"offset-3 col-md-3"},Ht=["placeholder"],Jt={class:"col-md-3"},Xt=["placeholder"],Yt={class:"col-md-3"},Wt={key:0,class:"col-md-3 col-form-label"},Pt=["onUpdate:modelValue","onChange"],xt=["value"],eo={class:"col-md-4"},to=["placeholder","onUpdate:modelValue"],oo={key:1,class:"col-md-2"},so=["onClick"],lo={key:0,class:"col-md-3 col-form-label"},no=["onUpdate:modelValue","onChange"],ao=["value"],co={class:"col-md-4"},uo=["placeholder","onUpdate:modelValue"],io={class:"col-md-2"},ro=["onClick"],po={key:0,class:"col-md-3 col-form-label"},mo=["onUpdate:modelValue","onChange"],_o=["value"],ho={class:"col-md-4"},vo=["placeholder","onUpdate:modelValue"],bo={class:"col-md-2"},fo=["onClick"],$o={key:0,class:"col-md-3 col-form-label"},yo=["onUpdate:modelValue","onChange"],ko=["value"],go={class:"col-md-4"},Co=["placeholder","onUpdate:modelValue"],wo={class:"col-md-2"},qo=["onClick"],To={key:0,class:"col-md-3 col-form-label"},Vo=["onUpdate:modelValue","onChange"],No=["value"],Uo={class:"col-md-4"},Mo=["placeholder","onUpdate:modelValue"],Ao={class:"col-md-2"},So=["onClick"],Fo={class:"row mb-3"},Io={class:"col-md-3 col-form-label"},Do={class:"col-md-8"},Lo={class:"row mb-3"},Bo={class:"offset-3 col-md-3"},Qo={type:"button",class:"btn"},Zo={class:"menu-items"},Ro=["onClick"],zo=["onClick"],Ko=["onClick"],Oo=["onClick"],jo=["onClick"],Eo=["disabled"],$e=de({__name:"EditContactModal",props:{data:{type:Object},sources:{type:Array},done:{type:Function,required:!0}},setup(T){const f=T,{handleSubmit:D}=Ve(),c=we({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),$=M(!1),{t:C}=qe(),{mutate:V,loading:L,onDone:N}=ae({document:pe`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${me}
  `,options:{update:()=>{f.done()}},appApi:!0}),{mutate:y,loading:S,onDone:w}=ae({document:pe`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${me}
  `,options:{update:()=>{f.done()}},appApi:!0}),{value:Y,resetField:F,errorMessage:te}=Ne("inputValue",ye().test("required",t=>"valid.required",t=>!0).test("target-value",t=>"invalid_value",t=>!0)),U=(t,r)=>{t.splice(0,t.length);for(const A of r)t.push({label:A.label,value:A.value,type:A.type})};(()=>{const t=f.data;t?(Object.assign(c,{firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,prefix:t.prefix,suffix:t.suffix,notes:t.notes}),U(c.phoneNumbers,t.phoneNumbers),U(c.emails,t.emails),U(c.addresses,t.addresses),U(c.websites,t.websites),U(c.events,t.events),U(c.ims,t.ims)):(Object.assign(c,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),F())})();const B=t=>{t.type===-1&&Ge(Dt,{value:t.label,title:C("custom"),do:r=>{t.label=r}})},Q=(t,r,A)=>r===-1?t.label?t.label:C("custom"):C(`contact.${A}.${r}`),Z=(t,r)=>{r.push({type:1,value:"",label:""}),t.close()},R=(t,r)=>{t.splice(r,1)},O=D(()=>{var t,r;f.data?y({id:f.data.id,input:c}):(c.source=((r=(t=f.sources)==null?void 0:t[0])==null?void 0:r.name)??"",V({input:c}))});return N(()=>{ne()}),w(()=>{ne()}),(t,r)=>{const A=It,j=Ut,I=wt,W=He,P=Te;return l(),ee(P,{size:"lg",title:T.data?t.$t("edit"):t.$t("create")},{body:K(()=>[e("div",Lt,[e("label",Bt,n(t.$t("name")),1),e("div",Qt,[h(e("input",{type:"text",class:"form-control",placeholder:t.$t("first_name"),"onUpdate:modelValue":r[0]||(r[0]=o=>c.firstName=o)},null,8,Zt),[[k,c.firstName]])]),$.value?(l(),a("div",Rt,[h(e("input",{type:"text",class:"form-control",placeholder:t.$t("middle_name"),"onUpdate:modelValue":r[1]||(r[1]=o=>c.middleName=o)},null,8,zt),[[k,c.middleName]])])):q("",!0),e("div",Kt,[h(e("input",{type:"text",class:"form-control",placeholder:t.$t("last_name"),"onUpdate:modelValue":r[2]||(r[2]=o=>c.lastName=o)},null,8,Ot),[[k,c.lastName]])]),$.value?q("",!0):(l(),a("div",jt,[e("button",{type:"button",class:"btn-icon",onClick:r[3]||(r[3]=o=>$.value=!0)},[g(A,{class:"bi"})])]))]),$.value?(l(),a("div",Et,[e("div",Gt,[h(e("input",{type:"text",class:"form-control",placeholder:t.$t("prefix"),"onUpdate:modelValue":r[4]||(r[4]=o=>c.prefix=o)},null,8,Ht),[[k,c.prefix]])]),e("div",Jt,[h(e("input",{type:"text",class:"form-control",placeholder:t.$t("suffix"),"onUpdate:modelValue":r[5]||(r[5]=o=>c.suffix=o)},null,8,Xt),[[k,c.suffix]])]),e("div",Yt,[e("button",{type:"button",class:"btn-icon",onClick:r[6]||(r[6]=o=>$.value=!1)},[g(j,{class:"bi"})])])])):q("",!0),(l(!0),a(v,null,b(c.phoneNumbers,(o,m)=>(l(),a("div",{class:"row mb-3",key:m},[m===0?(l(),a("label",Wt,n(t.$t("phone_number")),1)):q("",!0),e("div",{class:G(["col-md-3",{"offset-md-3":m>0}])},[h(e("select",{class:"form-select","onUpdate:modelValue":d=>o.type=d,onChange:d=>B(o)},[(l(!0),a(v,null,b(p(X).phoneNumberTypes,d=>(l(),a("option",{key:d,value:d},n(Q(o,d,"phone_number_type")),9,xt))),128))],40,Pt),[[H,o.type,void 0,{number:!0}]])],2),e("div",eo,[h(e("input",{type:"text",class:"form-control",placeholder:t.$t("telephone"),"onUpdate:modelValue":d=>o.value=d},null,8,to),[[k,o.value]])]),c.phoneNumbers.length>1?(l(),a("div",oo,[e("button",{type:"button",class:"btn-icon",onClick:d=>R(c.phoneNumbers,m)},[g(I,{class:"bi"})],8,so)])):q("",!0)]))),128)),(l(!0),a(v,null,b(c.emails,(o,m)=>(l(),a("div",{class:"row mb-3",key:m},[m===0?(l(),a("label",lo,n(t.$t("email")),1)):q("",!0),e("div",{class:G(["col-md-3",{"offset-md-3":m>0}])},[h(e("select",{class:"form-select","onUpdate:modelValue":d=>o.type=d,onChange:d=>B(o)},[(l(!0),a(v,null,b(p(X).emailTypes,d=>(l(),a("option",{key:d,value:d},n(Q(o,d,"email_type")),9,ao))),128))],40,no),[[H,o.type,void 0,{number:!0}]])],2),e("div",co,[h(e("input",{type:"text",class:"form-control",placeholder:t.$t("email"),"onUpdate:modelValue":d=>o.value=d},null,8,uo),[[k,o.value]])]),e("div",io,[e("button",{type:"button",class:"btn-icon",onClick:d=>R(c.emails,m)},[g(I,{class:"bi"})],8,ro)])]))),128)),(l(!0),a(v,null,b(c.addresses,(o,m)=>(l(),a("div",{class:"row mb-3",key:m},[m===0?(l(),a("label",po,n(t.$t("address")),1)):q("",!0),e("div",{class:G(["col-md-3",{"offset-md-3":m>0}])},[h(e("select",{class:"form-select","onUpdate:modelValue":d=>o.type=d,onChange:d=>B(o)},[(l(!0),a(v,null,b(p(X).addressTypes,d=>(l(),a("option",{key:d,value:d},n(Q(o,d,"address_type")),9,_o))),128))],40,mo),[[H,o.type,void 0,{number:!0}]])],2),e("div",ho,[h(e("input",{type:"text",class:"form-control",placeholder:t.$t("address"),"onUpdate:modelValue":d=>o.value=d},null,8,vo),[[k,o.value]])]),e("div",bo,[e("button",{type:"button",class:"btn-icon",onClick:d=>R(c.addresses,m)},[g(I,{class:"bi"})],8,fo)])]))),128)),(l(!0),a(v,null,b(c.websites,(o,m)=>(l(),a("div",{class:"row mb-3",key:m},[m===0?(l(),a("label",$o,n(t.$t("website")),1)):q("",!0),e("div",{class:G(["col-md-3",{"offset-md-3":m>0}])},[h(e("select",{class:"form-select","onUpdate:modelValue":d=>o.type=d,onChange:d=>B(o)},[(l(!0),a(v,null,b(p(X).websiteTypes,d=>(l(),a("option",{key:d,value:d},n(Q(o,d,"website_type")),9,ko))),128))],40,yo),[[H,o.type,void 0,{number:!0}]])],2),e("div",go,[h(e("input",{type:"text",class:"form-control",placeholder:t.$t("website"),"onUpdate:modelValue":d=>o.value=d},null,8,Co),[[k,o.value]])]),e("div",wo,[e("button",{type:"button",class:"btn-icon",onClick:d=>R(c.websites,m)},[g(I,{class:"bi"})],8,qo)])]))),128)),(l(!0),a(v,null,b(c.ims,(o,m)=>(l(),a("div",{class:"row mb-3",key:m},[m===0?(l(),a("label",To,n(t.$t("im")),1)):q("",!0),e("div",{class:G(["col-md-3",{"offset-md-3":m>0}])},[h(e("select",{class:"form-select","onUpdate:modelValue":d=>o.type=d,onChange:d=>B(o)},[(l(!0),a(v,null,b(p(X).imTypes,d=>(l(),a("option",{key:d,value:d},n(Q(o,d,"im_type")),9,No))),128))],40,Vo),[[H,o.type,void 0,{number:!0}]])],2),e("div",Uo,[h(e("input",{type:"text",class:"form-control",placeholder:t.$t("im"),"onUpdate:modelValue":d=>o.value=d},null,8,Mo),[[k,o.value]])]),e("div",Ao,[e("button",{type:"button",class:"btn-icon",onClick:d=>R(c.ims,m)},[g(I,{class:"bi"})],8,So)])]))),128)),e("div",Fo,[e("label",Io,n(t.$t("notes")),1),e("div",Do,[h(e("textarea",{class:"form-control","onUpdate:modelValue":r[7]||(r[7]=o=>c.notes=o),rows:"3"},null,512),[[k,c.notes]])])]),e("div",Lo,[e("div",Bo,[g(W,null,{content:K(o=>[e("ul",Zo,[e("li",{class:"dropdown-item",onClick:()=>Z(o,c.phoneNumbers)},n(t.$t("phone_number")),9,Ro),e("li",{class:"dropdown-item",onClick:()=>Z(o,c.emails)},n(t.$t("email")),9,zo),e("li",{class:"dropdown-item",onClick:()=>Z(o,c.addresses)},n(t.$t("address")),9,Ko),e("li",{class:"dropdown-item",onClick:()=>Z(o,c.websites)},n(t.$t("website")),9,Oo),e("li",{class:"dropdown-item",onClick:()=>Z(o,c.ims)},n(t.$t("im")),9,jo)])]),default:K(()=>[e("button",Qo,n(t.$t("add_field")),1)]),_:1})])])]),action:K(()=>[e("button",{type:"button",disabled:p(L)||p(S),class:"btn",onClick:r[8]||(r[8]=(...o)=>p(O)&&p(O)(...o))},n(t.$t("save")),9,Eo)]),_:1},8,["title"])}}}),Go={class:"v-toolbar"},Ho={class:"right-actions"},Jo={class:"row mb-3"},Xo={class:"col-md-3 col-form-label"},Yo={class:"col-md-9"},Wo=["onKeyup"],Po={class:"row mb-3"},xo={class:"col-md-3 col-form-label"},es={class:"col-md-9"},ts={class:"actions"},os=["onClick"],ss={class:"table"},ls=e("th",null,"ID",-1),ns={class:"actions two"},as=["onClick"],ds=["onUpdate:modelValue"],cs=["src"],us={class:"nowrap"},is={class:"list-unstyled"},rs={key:0,class:"spinner spinner-sm"},ps={class:"list-unstyled"},ms={class:"badge"},_s=["title"],hs={class:"actions two"},vs=["onClick"],bs=["onClick"],fs={key:0},$s={colspan:"10"},ys={class:"no-data-placeholder"},Ls=de({__name:"ContactsView",setup(T){var ie,re;const f=Je(),{app:D}=Xe(Ye()),c=M([]),{t:$}=qe(),C=we({text:"",tags:[]}),V="CONTACT",N=We().query,y=M(parseInt(((ie=N.page)==null?void 0:ie.toString())??"1")),S=50,w=M(0),Y=M([]),F=M(Pe(((re=N.q)==null?void 0:re.toString())??"")),te=M(""),{tags:U}=ht(V,F,C,async s=>{te.value=ft(s),await ke(),A()}),{addToTags:B}=vt(V,c,U),{removeFromTags:Q}=bt(V,c,U),{deleteItems:Z}=Le(xe,()=>{j()},c),R=[{text:$("add_to_tags"),click:B},{text:$("remove_from_tags"),click:Q},{text:$("delete"),click:Z}],{selectAll:O,toggleSelect:t}=Be(c),{loading:r,load:A,refetch:j}=et({handle:(s,_)=>{_?_e($(_),"error"):s&&(c.value=s.contacts.map(z=>({...z,checked:!1})),w.value=s.contactCount)},document:tt,variables:()=>({offset:(y.value-1)*S,limit:S,query:te.value}),appApi:!0});ot({handle:(s,_)=>{_?_e($(_),"error"):s&&(Y.value=s.contactSources)},document:st,variables:null,appApi:!0}),lt(y,s=>{ve(f,`/contacts?page=${s}&q=${be(F.value)}`)});function I(){F.value=$t(C),W()}function W(){ve(f,`/contacts?q=${be(F.value)}`)}nt(()=>{at.on("refetch_by_tag_type",s=>{s===V&&j()})});function P(s){let _="";fe(s.firstName)||fe(s.lastName)?_=`${s.lastName}${s.middleName}${s.firstName}`:_=[s.firstName,s.middleName,s.lastName].filter(oe=>oe).join(" ");const z=s.suffix?`, ${s.suffix}`:"",x=`${s.prefix} ${_} ${z}`.trim();return x||(s.emails.length?s.emails[0].value:"")}function o(s){le(_t,{id:s.id,name:P(s),gql:pt`
      mutation DeleteContact($id: ID!) {
        deleteContacts(ids: [$id])
      }
    `,appApi:!0,typeName:"Contact"})}function m(s){le($e,{data:s,sources:Y,done:j})}function d(){le($e,{data:null,sources:Y,done:j})}const ce=M(""),ue=M(0),{mutate:Ue,loading:Me}=ae({document:dt,appApi:!0});function Ae(s,_,z){ce.value=s,ue.value=z,Ue({number:_})}return(s,_)=>{const z=je,x=Oe,oe=Ke,Se=Qe,Fe=ze,Ie=Re,De=Ze;return l(),a(v,null,[e("div",Go,[g(z,{current:()=>`${s.$t("page_title.contacts")} (${w.value})`},null,8,["current"]),e("div",Ho,[e("button",{type:"button",class:"btn btn-action",onClick:d},n(s.$t("create")),1),g(x,{title:s.$t("actions"),items:R},null,8,["title"]),g(Se,{modelValue:F.value,"onUpdate:modelValue":_[2]||(_[2]=i=>F.value=i),search:W},{filters:K(()=>[e("div",Jo,[e("label",Xo,n(s.$t("keywords")),1),e("div",Yo,[h(e("input",{type:"text","onUpdate:modelValue":_[0]||(_[0]=i=>C.text=i),class:"form-control",onKeyup:Ce(I,["enter"])},null,40,Wo),[[k,C.text]])])]),e("div",Po,[e("label",xo,n(s.$t("tags")),1),e("div",es,[g(oe,{modelValue:C.tags,"onUpdate:modelValue":_[1]||(_[1]=i=>C.tags=i),label:"name","track-by":"id",options:p(U)},null,8,["modelValue","options"])])]),e("div",ts,[e("button",{type:"button",class:"btn",onClick:J(I,["stop"])},n(s.$t("search")),9,os)])]),_:1},8,["modelValue"])])]),e("table",ss,[e("thead",null,[e("tr",null,[e("th",null,[h(e("input",{class:"form-check-input",type:"checkbox",onChange:_[3]||(_[3]=(...i)=>p(t)&&p(t)(...i)),"onUpdate:modelValue":_[4]||(_[4]=i=>ge(O)?O.value=i:null)},null,544),[[he,p(O)]])]),ls,e("th",null,n(s.$t("avatar")),1),e("th",null,n(s.$t("name")),1),e("th",null,n(s.$t("phone_number")),1),e("th",null,n(s.$t("content")),1),e("th",null,n(s.$t("notes")),1),e("th",null,n(s.$t("tags")),1),e("th",null,n(s.$t("updated_at")),1),e("th",ns,n(s.$t("actions")),1)])]),e("tbody",null,[(l(!0),a(v,null,b(c.value,i=>(l(),a("tr",{key:i.id,class:G({checked:i.checked}),onClick:J(u=>i.checked=!i.checked,["stop"])},[e("td",null,[h(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":u=>i.checked=u},null,8,ds),[[he,i.checked]])]),e("td",null,[g(Fe,{id:i.id,raw:i},null,8,["id","raw"])]),e("td",null,[i.thumbnailId?(l(),a("img",{key:0,src:p(ct)(i.thumbnailId)},null,8,cs)):q("",!0)]),e("td",null,n(P(i)),1),e("td",us,[e("ul",is,[(l(!0),a(v,null,b(i.phoneNumbers,(u,se)=>(l(),a("li",{key:se},[ut(n(u.type>0?s.$t(`contact.phone_number_type.${u.type}`):u.label)+" "+n(u.normalizedNumber||u.value)+" ",1),p(Me)&&ce.value===i.id&&ue.value===se?(l(),a("i",rs)):(l(),ee(Ie,{key:1,class:"bi bi-btn",onClick:J(ks=>Ae(i.id,u.normalizedNumber||u.value,se),["stop"])},null,8,["onClick"]))]))),128))])]),e("td",null,[e("ul",ps,[(l(!0),a(v,null,b(i.emails,u=>(l(),a("li",null,n(u.type>0?s.$t(`contact.email_type.${u.type}`):u.label)+" "+n(u.value),1))),256)),(l(!0),a(v,null,b(i.addresses,u=>(l(),a("li",null,n(u.type>0?s.$t(`contact.address_type.${u.type}`):u.label)+" "+n(u.value),1))),256)),(l(!0),a(v,null,b(i.websites,u=>(l(),a("li",null,n(u.type>0?s.$t(`contact.website_type.${u.type}`):u.label)+" "+n(u.value),1))),256)),(l(!0),a(v,null,b(i.ims,u=>(l(),a("li",null,n(u.type>0?s.$t(`contact.im_type.${u.type}`):u.label)+" "+n(u.value),1))),256)),(l(!0),a(v,null,b(i.events,u=>(l(),a("li",null,n(u.type>0?s.$t(`contact.event_type.${u.type}`):u.label)+" "+n(u.value),1))),256))])]),e("td",null,n(i.notes),1),e("td",null,[(l(!0),a(v,null,b(i.tags,u=>(l(),a("span",ms,n(u.name),1))),256))]),e("td",{class:"nowrap",title:p(it)(i.updatedAt)},n(p(rt)(i.updatedAt)),9,_s),e("td",hs,[e("a",{href:"#",class:"v-link",onClick:J(u=>m(i),["stop"])},n(s.$t("edit")),9,vs),e("a",{href:"#",class:"v-link",onClick:J(u=>o(i),["stop"])},n(s.$t("delete")),9,bs)])],10,as))),128))]),c.value.length?q("",!0):(l(),a("tfoot",fs,[e("tr",null,[e("td",$s,[e("div",ys,n(s.$t(p(mt)(p(r),p(D).permissions,"READ_CONTACTS"))),1)])])]))]),w.value>S?(l(),ee(De,{key:0,modelValue:y.value,"onUpdate:modelValue":_[5]||(_[5]=i=>y.value=i),total:w.value,limit:S},null,8,["modelValue","total"])):q("",!0)],64)}}});export{Ls as default};

import{D as Ke,c as He,u as Je,_ as Pe,a as We,b as Xe}from"./list-c18b89b9.js";import{o as n,e as o,f as e,d as de,r as U,ah as we,ai as G,E as Ne,j as _,M as m,N as b,k as u,aj as Ye,ak as et,_ as qe,B as Ve,u as Te,a2 as se,al as ve,am as fe,m as V,x as f,F as v,A as $,y as ae,an as tt,a8 as Ue,ao as lt,a as nt,s as ot,c as st,p as at,C as dt,D as ut,$ as K,ap as it,G as rt,t as be,aq as ct,i as _t,ar as pt,I as mt,J as ht,K as vt,a3 as ft,L as bt,w as Q,z as $t,as as yt,g as $e,P as gt,Q as kt,R as Ct,n as ye,S as ge,U as wt,V as le,W as Nt,at as ke,T as qt,a6 as Vt,a7 as Tt,X as Ut,Y as It,Z as At,au as St,av as Dt}from"./index-2c8e7849.js";import{_ as Lt}from"./call-outline-rounded-99d3827b.js";import{_ as Mt}from"./Breadcrumb-01ba2071.js";import{n as Ft}from"./list-6498ebd9.js";import{u as Ie,a as Ae}from"./vee-validate.esm-83a41e33.js";import{u as xt,a as Bt}from"./tags-9332a6bc.js";const Qt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Rt=e("path",{fill:"currentColor",d:"m19.3 8.925l-4.25-4.2l1.4-1.4q.575-.575 1.413-.575t1.412.575l1.4 1.4q.575.575.6 1.388t-.55 1.387L19.3 8.925ZM17.85 10.4L7.25 21H3v-4.25l10.6-10.6l4.25 4.25Z"},null,-1),zt=[Rt];function Zt(g,y){return n(),o("svg",Qt,zt)}const jt={name:"material-symbols-edit",render:Zt},Et={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Gt=e("path",{fill:"currentColor",d:"M6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 7.825L8.1 11.7q-.275.275-.688.288T6.7 11.7Zm0 6q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212t.375-.063q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 13.825L8.1 17.7q-.275.275-.688.288T6.7 17.7Z"},null,-1),Ot=[Gt];function Kt(g,y){return n(),o("svg",Et,Ot)}const Ht={name:"material-symbols-keyboard-double-arrow-up-rounded",render:Kt},Jt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Pt=e("path",{fill:"currentColor",d:"M12 12.575q-.2 0-.375-.062T11.3 12.3L6.7 7.7q-.275-.275-.288-.688T6.7 6.3q.275-.275.7-.275t.7.275l3.9 3.875L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Zm0 6q-.2 0-.375-.062T11.3 18.3l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275l3.9 3.875l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Z"},null,-1),Wt=[Pt];function Xt(g,y){return n(),o("svg",Jt,Wt)}const Yt={name:"material-symbols-keyboard-double-arrow-down-rounded",render:Xt};function H(g){return Array.from({length:g},(y,R)=>R+1).concat(-1)}const X={phoneNumberTypes:H(20),emailTypes:H(4),addressTypes:H(3),eventTypes:H(3),imTypes:H(8),websiteTypes:H(7)},el={slot:"headline"},tl={slot:"content"},ll=["error","error-text"],nl={slot:"actions"},ol=de({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String}},setup(g){const y=g,{handleSubmit:R}=Ie(),a=U(),{value:C,resetField:L,errorMessage:w}=Ae("inputValue",we().required()),k=R(()=>{y.do(C.value??""),G()});return C.value=y.value,y.value||L(),(async()=>{var I;await Ne(),(I=a.value)==null||I.focus()})(),(I,q)=>(n(),o("md-dialog",null,[e("div",el,_(g.title),1),e("div",tl,[m(e("md-outlined-text-field",{ref_key:"inputRef",ref:a,class:"form-control",error:u(w),"error-text":u(w)?I.$t(u(w)):"","onUpdate:modelValue":q[0]||(q[0]=N=>Ye(C)?C.value=N:null),onKeyup:q[1]||(q[1]=et((...N)=>u(k)&&u(k)(...N),["enter"]))},null,40,ll),[[b,u(C)]])]),e("div",nl,[e("md-outlined-button",{value:"cancel",onClick:q[2]||(q[2]=(...N)=>u(G)&&u(G)(...N))},_(I.$t("cancel")),1),e("md-filled-button",{value:"ok",onClick:q[3]||(q[3]=(...N)=>u(k)&&u(k)(...N)),autofocus:""},_(I.$t("ok")),1)])]))}});const sl=qe(ol,[["__scopeId","data-v-263cf3df"]]),al={slot:"headline"},dl={slot:"content"},ul={class:"form-label"},il={class:"form-row"},rl=["label"],cl=["label"],_l=["label"],pl={key:1,class:"v-center"},ml=e("md-ripple",null,null,-1),hl={key:0,class:"form-row"},vl=["label"],fl=["label"],bl={class:"v-center"},$l=e("md-ripple",null,null,-1),yl={class:"form-label"},gl=["onUpdate:modelValue","onChange"],kl=["value","headline"],Cl=["placeholder","onUpdate:modelValue"],wl={class:"v-center"},Nl=["onClick"],ql=e("md-ripple",null,null,-1),Vl={key:1,class:"form-label"},Tl=["onUpdate:modelValue","onChange"],Ul=["value","headline"],Il=["label","onUpdate:modelValue"],Al={class:"v-center"},Sl=["onClick"],Dl=e("md-ripple",null,null,-1),Ll={key:2,class:"form-label"},Ml=["onUpdate:modelValue","onChange"],Fl=["value","headline"],xl=["label","onUpdate:modelValue"],Bl={class:"v-center"},Ql=["onClick"],Rl=e("md-ripple",null,null,-1),zl={key:3,class:"form-label"},Zl=["onUpdate:modelValue","onChange"],jl=["value","headline"],El=["placeholder","onUpdate:modelValue"],Gl={class:"v-center"},Ol=["onClick"],Kl=e("md-ripple",null,null,-1),Hl={key:4,class:"form-label"},Jl=["onUpdate:modelValue","onChange"],Pl=["value","headline"],Wl=["placeholder","onUpdate:modelValue"],Xl={class:"v-center"},Yl=["onClick"],en=e("md-ripple",null,null,-1),tn={class:"form-row",style:{display:"block",position:"relative"}},ln={class:"menu-items"},nn=["headline","onClick"],on=["headline","onClick"],sn=["headline","onClick"],an=["headline","onClick"],dn=["headline","onClick"],un={class:"form-row"},rn=["label"],cn={slot:"actions"},_n=["disabled"],Ce=de({__name:"EditContactModal",props:{data:{type:Object},sources:{type:Array},done:{type:Function,required:!0}},setup(g){const y=g,{handleSubmit:R}=Ie(),a=Ve({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),C=U(!1),{t:L}=Te(),{mutate:w,loading:k,onDone:I}=se({document:ve`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${fe}
  `,options:{update:()=>{y.done()}},appApi:!0}),{mutate:q,loading:N,onDone:J}=se({document:ve`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${fe}
  `,options:{update:()=>{y.done()}},appApi:!0}),{value:z,resetField:O,errorMessage:P}=Ae("inputValue",we().test("required",l=>"valid.required",l=>!0).test("target-value",l=>"invalid_value",l=>!0)),M=(l,c)=>{l.splice(0,l.length);for(const T of c)l.push({label:T.label,value:T.value,type:T.type})};(()=>{const l=y.data;l?(Object.assign(a,{firstName:l.firstName,middleName:l.middleName,lastName:l.lastName,prefix:l.prefix,suffix:l.suffix,notes:l.notes}),M(a.phoneNumbers,l.phoneNumbers),M(a.emails,l.emails),M(a.addresses,l.addresses),M(a.websites,l.websites),M(a.events,l.events),M(a.ims,l.ims)):(Object.assign(a,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),O())})();const Z=l=>{l.type===-1&&tt(sl,{value:l.label,title:L("custom"),do:c=>{l.label=c}})},F=(l,c,T)=>c===-1?l.label?l.label:L("custom"):L(`contact.${T}.${c}`),A=(l,c)=>{c.push({type:1,value:"",label:""}),l.close()},j=(l,c)=>{l.splice(c,1)},ee=R(()=>{var l,c;y.data?q({id:y.data.id,input:a}):(a.source=((c=(l=y.sources)==null?void 0:l[0])==null?void 0:c.name)??"",w({input:a}))});return I(()=>{G()}),J(()=>{G()}),(l,c)=>{const T=Yt,x=Ht,B=Ue,ne=lt;return n(),o("md-dialog",null,[e("div",al,_(g.data?l.$t("edit"):l.$t("create")),1),e("div",dl,[e("label",ul,_(l.$t("name")),1),e("div",il,[m(e("md-outlined-text-field",{label:l.$t("first_name"),"onUpdate:modelValue":c[0]||(c[0]=s=>a.firstName=s)},null,8,rl),[[b,a.firstName]]),C.value?m((n(),o("md-outlined-text-field",{key:0,label:l.$t("middle_name"),"onUpdate:modelValue":c[1]||(c[1]=s=>a.middleName=s)},null,8,cl)),[[b,a.middleName]]):V("",!0),m(e("md-outlined-text-field",{label:l.$t("last_name"),"onUpdate:modelValue":c[2]||(c[2]=s=>a.lastName=s)},null,8,_l),[[b,a.lastName]]),C.value?V("",!0):(n(),o("div",pl,[e("button",{class:"icon-button",onClick:c[3]||(c[3]=s=>C.value=!0)},[ml,f(T)])]))]),C.value?(n(),o("div",hl,[m(e("md-outlined-text-field",{label:l.$t("prefix"),"onUpdate:modelValue":c[4]||(c[4]=s=>a.prefix=s)},null,8,vl),[[b,a.prefix]]),m(e("md-outlined-text-field",{label:l.$t("suffix"),"onUpdate:modelValue":c[5]||(c[5]=s=>a.suffix=s)},null,8,fl),[[b,a.suffix]]),e("div",bl,[e("button",{class:"icon-button",onClick:c[6]||(c[6]=s=>C.value=!1)},[$l,f(x)])])])):V("",!0),e("label",yl,_(l.$t("phone_number")),1),(n(!0),o(v,null,$(a.phoneNumbers,(s,h)=>(n(),o("div",{class:"form-row",key:h},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":d=>s.type=d,onChange:d=>Z(s)},[(n(!0),o(v,null,$(u(X).phoneNumberTypes,d=>(n(),o("md-select-option",{key:d,value:d,headline:F(s,d,"phone_number_type")},null,8,kl))),128))],40,gl),[[b,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("telephone"),"onUpdate:modelValue":d=>s.value=d,class:"flex-3"},null,8,Cl),[[b,s.value]]),e("div",wl,[a.phoneNumbers.length>1?(n(),o("button",{key:0,class:"icon-button",onClick:d=>j(a.phoneNumbers,h)},[ql,f(B)],8,Nl)):V("",!0)])]))),128)),a.emails.length?(n(),o("label",Vl,_(l.$t("email")),1)):V("",!0),(n(!0),o(v,null,$(a.emails,(s,h)=>(n(),o("div",{class:"form-row",key:h},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":d=>s.type=d,onChange:d=>Z(s)},[(n(!0),o(v,null,$(u(X).emailTypes,d=>(n(),o("md-select-option",{key:d,value:d,headline:F(s,d,"email_type")},null,8,Ul))),128))],40,Tl),[[b,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{label:l.$t("email"),"onUpdate:modelValue":d=>s.value=d,class:"flex-3"},null,8,Il),[[b,s.value]]),e("div",Al,[e("button",{class:"icon-button",onClick:d=>j(a.emails,h)},[Dl,f(B)],8,Sl)])]))),128)),a.addresses.length?(n(),o("label",Ll,_(l.$t("address")),1)):V("",!0),(n(!0),o(v,null,$(a.addresses,(s,h)=>(n(),o("div",{class:"form-row",key:h},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":d=>s.type=d,onChange:d=>Z(s)},[(n(!0),o(v,null,$(u(X).addressTypes,d=>(n(),o("md-select-option",{key:d,value:d,headline:F(s,d,"address_type")},null,8,Fl))),128))],40,Ml),[[b,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{label:l.$t("address"),"onUpdate:modelValue":d=>s.value=d,class:"flex-3"},null,8,xl),[[b,s.value]]),e("div",Bl,[e("button",{class:"icon-button",onClick:d=>j(a.addresses,h)},[Rl,f(B)],8,Ql)])]))),128)),a.websites.length?(n(),o("label",zl,_(l.$t("website")),1)):V("",!0),(n(!0),o(v,null,$(a.websites,(s,h)=>(n(),o("div",{class:"form-row",key:h},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":d=>s.type=d,onChange:d=>Z(s)},[(n(!0),o(v,null,$(u(X).websiteTypes,d=>(n(),o("md-select-option",{key:d,value:d,headline:F(s,d,"website_type")},null,8,jl))),128))],40,Zl),[[b,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("website"),"onUpdate:modelValue":d=>s.value=d,class:"flex-3"},null,8,El),[[b,s.value]]),e("div",Gl,[e("button",{class:"icon-button",onClick:d=>j(a.websites,h)},[Kl,f(B)],8,Ol)])]))),128)),a.ims.length?(n(),o("label",Hl,_(l.$t("im")),1)):V("",!0),(n(!0),o(v,null,$(a.ims,(s,h)=>(n(),o("div",{class:"form-row",key:h},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":d=>s.type=d,onChange:d=>Z(s)},[(n(!0),o(v,null,$(u(X).imTypes,d=>(n(),o("md-select-option",{key:d,value:d,headline:F(s,d,"im_type")},null,8,Pl))),128))],40,Jl),[[b,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("im"),"onUpdate:modelValue":d=>s.value=d,class:"flex-3"},null,8,Wl),[[b,s.value]]),e("div",Xl,[e("button",{class:"icon-button",onClick:d=>j(a.ims,h)},[en,f(B)],8,Yl)])]))),128)),e("div",tn,[f(ne,{placement:"auto"},{content:ae(s=>[e("div",ln,[e("md-menu-item",{headline:l.$t("phone_number"),onClick:()=>A(s,a.phoneNumbers)},null,8,nn),e("md-menu-item",{headline:l.$t("email"),onClick:()=>A(s,a.emails)},null,8,on),e("md-menu-item",{headline:l.$t("address"),onClick:()=>A(s,a.addresses)},null,8,sn),e("md-menu-item",{headline:l.$t("website"),onClick:()=>A(s,a.websites)},null,8,an),e("md-menu-item",{headline:l.$t("im"),onClick:()=>A(s,a.ims)},null,8,dn)])]),default:ae(()=>[e("div",null,[e("md-outlined-button",null,_(l.$t("add_field")),1)])]),_:1})]),e("div",un,[m(e("md-outlined-text-field",{type:"textarea",label:l.$t("notes"),"onUpdate:modelValue":c[7]||(c[7]=s=>a.notes=s),rows:"3"},null,8,rn),[[b,a.notes]])])]),e("div",cn,[e("md-outlined-button",{value:"cancel",onClick:c[8]||(c[8]=(...s)=>u(G)&&u(G)(...s))},_(l.$t("cancel")),1),e("md-filled-button",{value:"save",disabled:u(k)||u(N),onClick:c[9]||(c[9]=(...s)=>u(ee)&&u(ee)(...s)),autofocus:""},_(l.$t("save")),9,_n)])])}}}),D=g=>(St("data-v-1d38745c"),g=g(),Dt(),g),pn={class:"v-toolbar"},mn=D(()=>e("md-ripple",null,null,-1)),hn=D(()=>e("md-ripple",null,null,-1)),vn={class:"filters"},fn=["label"],bn={class:"form-label"},$n={type:"filter"},yn=["label","selected","onClick"],gn={class:"buttons"},kn=["onClick"],Cn={class:"table-responsive"},wn={class:"table"},Nn=["checked","indeterminate"],qn=D(()=>e("th",null,"ID",-1)),Vn=D(()=>e("th",null,null,-1)),Tn=D(()=>e("th",null,null,-1)),Un=["onClick"],In=["checked"],An=["src"],Sn={class:"nowrap"},Dn={class:"list-unstyled"},Ln={key:0,indeterminate:"",class:"spinner-sm"},Mn=["onClick"],Fn=D(()=>e("md-ripple",null,null,-1)),xn={class:"nowrap"},Bn={class:"action-btns"},Qn=["onClick"],Rn=D(()=>e("md-ripple",null,null,-1)),zn=["onClick"],Zn=D(()=>e("md-ripple",null,null,-1)),jn=["onClick"],En=D(()=>e("md-ripple",null,null,-1)),Gn={class:"nowrap"},On={key:0},Kn={colspan:"9"},Hn={class:"no-data-placeholder"},Y=50,Jn=de({__name:"ContactsView",setup(g){var me,he;const y=nt(),{app:R}=ot(st()),a=U([]),C=U(),{t:L}=Te(),w=Ve({text:"",tags:[]}),k=Ke.CONTACT,q=at().query,N=U(parseInt(((me=q.page)==null?void 0:me.toString())??"1")),J=U([]),z=U(dt(((he=q.q)==null?void 0:he.toString())??"")),O=U(""),{tags:P}=xt(k,z,w,async t=>{O.value=ut(t),await Ne(),s()}),{addToTags:M}=Bt(k,a,P),{deleteItems:Z}=He(it,()=>{h(),a.value.some(t=>t.tags.length)&&K.emit("refetch_tags",k)},a),{allChecked:F,realAllChecked:A,selectRealAll:j,allCheckedAlertVisible:ee,clearSelection:l,toggleAllChecked:c,toggleItemChecked:T,total:x,checked:B}=Je(a),{loading:ne,load:s,refetch:h}=rt({handle:(t,p)=>{p?be(L(p),"error"):t&&(a.value=t.contacts.map(S=>({...S,checked:!1})),x.value=t.contactCount)},document:ct,variables:()=>({offset:(N.value-1)*Y,limit:Y,query:O.value}),appApi:!0});_t({handle:(t,p)=>{p?be(L(p),"error"):t&&(J.value=t.contactSources)},document:pt,variables:null,appApi:!0}),mt(N,t=>{ye(y,`/contacts?page=${t}&q=${ge(z.value)}`)});function d(){z.value=wt(w),ue(),C.value.dismiss()}function ue(){ye(y,`/contacts?q=${ge(z.value)}`)}const ie=t=>{t.type===k&&(l(),h())},re=t=>{t.type===k&&h()};ht(()=>{K.on("item_tags_updated",re),K.on("items_tags_updated",ie)}),vt(()=>{K.off("item_tags_updated",re),K.off("items_tags_updated",ie)});function Se(t){le(Nt,{type:k,tags:P.value,item:{key:t.id,title:"",size:0},selected:P.value.filter(p=>t.tags.some(S=>S.id===p.id))})}function ce(t){let p="";ke(t.firstName)||ke(t.lastName)?p=`${t.lastName}${t.middleName}${t.firstName}`:p=[t.firstName,t.middleName,t.lastName].filter(te=>te).join(" ");const S=t.suffix?`, ${t.suffix}`:"",W=`${t.prefix} ${p} ${S}`.trim();return W||(t.emails.length?t.emails[0].value:"")}function De(t){w.tags.includes(t)?qt(w.tags,p=>p.id===t.id):w.tags.push(t)}function Le(t){le(Tt,{id:t.id,name:ce(t),gql:Vt`
      mutation DeleteContact($query: String!) {
        deleteContacts(query: $query)
      }
    `,variables:()=>({query:`ids:${t.id}`}),appApi:!0,typeName:"Contact",done:()=>{x.value--,t.tags.length&&K.emit("refetch_tags",k)}})}function Me(t){le(Ce,{data:t,sources:J,done:h})}function Fe(){le(Ce,{data:null,sources:J,done:h})}const _e=U(""),pe=U(0),{mutate:xe,loading:Be}=se({document:ft,appApi:!0});function Qe(t,p,S){_e.value=t,pe.value=S,xe({number:p})}return(t,p)=>{const S=Mt,W=Ue,te=Ut,Re=Pe,ze=We,Ze=It,je=Lt,Ee=jt,Ge=At,Oe=Xe,E=bt("tooltip");return n(),o(v,null,[e("div",pn,[f(S,{current:()=>`${t.$t("page_title.contacts")} (${u(x)})`},null,8,["current"]),u(B)?(n(),o(v,{key:0},[m((n(),o("button",{class:"icon-button",onClick:p[0]||(p[0]=Q(i=>u(Z)(u(A),O.value),["stop"]))},[mn,f(W)])),[[E,t.$t("delete")]]),m((n(),o("button",{class:"icon-button",onClick:p[1]||(p[1]=Q(i=>u(M)(u(A),O.value),["stop"]))},[hn,f(te)])),[[E,t.$t("add_to_tags")]])],64)):V("",!0),e("md-outlined-button",{onClick:Fe,style:{"margin-inline-start":"16px"}},_(t.$t("create")),1),f(Re,{ref_key:"searchInputRef",ref:C,modelValue:z.value,"onUpdate:modelValue":p[3]||(p[3]=i=>z.value=i),search:ue},{filters:ae(()=>[e("div",vn,[m(e("md-outlined-text-field",{label:t.$t("keywords"),"onUpdate:modelValue":p[2]||(p[2]=i=>w.text=i),"keyup.enter":"applyAndDoSearch"},null,8,fn),[[b,w.text]]),e("label",bn,_(t.$t("tags")),1),e("md-chip-set",$n,[(n(!0),o(v,null,$(u(P),i=>(n(),o("md-filter-chip",{key:i.id,label:i.name,selected:w.tags.includes(i),onClick:r=>De(i)},null,8,yn))),128))]),e("div",gn,[e("md-filled-button",{onClick:Q(d,["stop"])},_(t.$t("search")),9,kn)])])]),_:1},8,["modelValue"])]),f(ze,{limit:Y,total:u(x),"all-checked-alert-visible":u(ee),"real-all-checked":u(A),"select-real-all":u(j),"clear-selection":u(l)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),e("div",Cn,[e("table",wn,[e("thead",null,[e("tr",null,[e("th",null,[e("md-checkbox",{"touch-target":"wrapper",onChange:p[4]||(p[4]=(...i)=>u(c)&&u(c)(...i)),checked:u(F),indeterminate:!u(F)&&u(B)},null,40,Nn)]),qn,e("th",null,_(t.$t("avatar")),1),e("th",null,_(t.$t("name")),1),Vn,Tn,e("th",null,_(t.$t("notes")),1),e("th",null,_(t.$t("tags")),1),e("th",null,_(t.$t("updated_at")),1)])]),e("tbody",null,[(n(!0),o(v,null,$(a.value,i=>(n(),o("tr",{key:i.id,class:$t({selected:i.checked}),onClick:Q(r=>i.checked=!i.checked,["stop"])},[e("td",null,[e("md-checkbox",{"touch-target":"wrapper",onChange:p[5]||(p[5]=(...r)=>u(T)&&u(T)(...r)),checked:i.checked},null,40,In)]),e("td",null,[f(Ze,{id:i.id,raw:i},null,8,["id","raw"])]),e("td",null,[i.thumbnailId?(n(),o("img",{key:0,src:u(yt)(i.thumbnailId),width:"50"},null,8,An)):V("",!0)]),e("td",null,_(ce(i)),1),e("td",Sn,[e("ul",Dn,[(n(!0),o(v,null,$(i.phoneNumbers,(r,oe)=>(n(),o("li",{class:"v-center",key:oe},[$e(_(r.type>0?t.$t(`contact.phone_number_type.${r.type}`):r.label)+" "+_(r.normalizedNumber||r.value)+" ",1),u(Be)&&_e.value===i.id&&pe.value===oe?(n(),o("md-circular-progress",Ln)):m((n(),o("button",{key:1,class:"icon-button",onClick:Q(Pn=>Qe(i.id,r.normalizedNumber||r.value,oe),["stop"])},[Fn,f(je)],8,Mn)),[[E,t.$t("make_a_phone_call")]])]))),128)),(n(!0),o(v,null,$(i.emails,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.email_type.${r.type}`):r.label)+" "+_(r.value),1))),256)),(n(!0),o(v,null,$(i.addresses,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.address_type.${r.type}`):r.label)+" "+_(r.value),1))),256)),(n(!0),o(v,null,$(i.websites,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.website_type.${r.type}`):r.label)+" "+_(r.value),1))),256)),(n(!0),o(v,null,$(i.ims,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.im_type.${r.type}`):r.label)+" "+_(r.value),1))),256)),(n(!0),o(v,null,$(i.events,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.event_type.${r.type}`):r.label)+" "+_(r.value),1))),256))])]),e("td",xn,[e("div",Bn,[m((n(),o("button",{class:"icon-button",onClick:Q(r=>Le(i),["stop"])},[Rn,f(W)],8,Qn)),[[E,t.$t("delete")]]),m((n(),o("button",{class:"icon-button",onClick:Q(r=>Me(i),["stop"])},[Zn,f(Ee)],8,zn)),[[E,t.$t("edit")]]),m((n(),o("button",{class:"icon-button",onClick:Q(r=>Se(i),["stop"])},[En,f(te)],8,jn)),[[E,t.$t("add_to_tags")]])])]),e("td",null,_(i.notes),1),e("td",null,[f(Ge,{tags:i.tags,type:u(k)},null,8,["tags","type"])]),e("td",Gn,[m((n(),o("span",null,[$e(_(u(kt)(i.updatedAt)),1)])),[[E,u(gt)(i.updatedAt)]])])],10,Un))),128))]),a.value.length?V("",!0):(n(),o("tfoot",On,[e("tr",null,[e("td",Kn,[e("div",Hn,_(t.$t(u(Ft)(u(ne),u(R).permissions,"READ_CONTACTS"))),1)])])]))])]),u(x)>Y?(n(),Ct(Oe,{key:0,modelValue:N.value,"onUpdate:modelValue":p[6]||(p[6]=i=>N.value=i),total:u(x),limit:Y},null,8,["modelValue","total"])):V("",!0)],64)}}});const oo=qe(Jn,[["__scopeId","data-v-1d38745c"]]);export{oo as default};

import{c as Je,u as We,_ as Xe,a as Ye,b as Pe}from"./list-d0b20b4b.js";import{o as n,e as o,f as e,d as de,r as I,ai as Ne,aj as E,O as qe,t as _,L as m,R as v,h as u,ak as et,al as tt,_ as Ve,B as Te,u as Ue,a1 as se,am as ve,an as be,j as T,x as h,F as f,A as b,y as ae,ao as lt,a9 as Ie,ap as nt,a as ot,s as st,c as at,D as dt,p as ut,C as it,E as rt,i as ct,G as _t,H as pt,I as G,J as mt,K as ht,w as B,M as ft,N as vt,aq as bt,k as $e,ar as $t,as as yt,n as ye,Q as ge,X as te,a4 as gt,z as kt,at as Ct,g as ke,T as wt,U as Nt,au as qt,av as Vt,W as Tt,Y as Ut,aw as Ce,V as It,a7 as At,a8 as St,ah as Dt,Z as Lt,$ as Mt,a0 as Ft}from"./index-bfd324f1.js";import{_ as xt}from"./call-outline-rounded-fe060c81.js";import{_ as Rt}from"./Breadcrumb-d5b3180f.js";import{n as Bt}from"./list-6498ebd9.js";import{u as Ae,a as Se}from"./vee-validate.esm-4679beb0.js";import{u as Qt,a as zt}from"./tags-77638e36.js";const Zt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},jt=e("path",{fill:"currentColor",d:"m19.3 8.925l-4.25-4.2l1.4-1.4q.575-.575 1.413-.575t1.412.575l1.4 1.4q.575.575.6 1.388t-.55 1.387L19.3 8.925ZM17.85 10.4L7.25 21H3v-4.25l10.6-10.6l4.25 4.25Z"},null,-1),Et=[jt];function Ot(g,$){return n(),o("svg",Zt,Et)}const Gt={name:"material-symbols-edit",render:Ot},Ht={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Kt=e("path",{fill:"currentColor",d:"M6.7 11.7q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212T12 5.425q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 7.825L8.1 11.7q-.275.275-.688.288T6.7 11.7Zm0 6q-.275-.275-.275-.7t.275-.7l4.6-4.6q.15-.15.325-.212t.375-.063q.2 0 .375.063t.325.212l4.6 4.6q.275.275.288.688t-.288.712q-.275.275-.7.275t-.7-.275L12 13.825L8.1 17.7q-.275.275-.688.288T6.7 17.7Z"},null,-1),Jt=[Kt];function Wt(g,$){return n(),o("svg",Ht,Jt)}const Xt={name:"material-symbols-keyboard-double-arrow-up-rounded",render:Wt},Yt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Pt=e("path",{fill:"currentColor",d:"M12 12.575q-.2 0-.375-.062T11.3 12.3L6.7 7.7q-.275-.275-.288-.688T6.7 6.3q.275-.275.7-.275t.7.275l3.9 3.875L15.9 6.3q.275-.275.688-.287t.712.287q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Zm0 6q-.2 0-.375-.062T11.3 18.3l-4.6-4.6q-.275-.275-.288-.687T6.7 12.3q.275-.275.7-.275t.7.275l3.9 3.875l3.9-3.875q.275-.275.688-.288t.712.288q.275.275.275.7t-.275.7l-4.6 4.6q-.15.15-.325.213t-.375.062Z"},null,-1),el=[Pt];function tl(g,$){return n(),o("svg",Yt,el)}const ll={name:"material-symbols-keyboard-double-arrow-down-rounded",render:tl};function H(g){return Array.from({length:g},($,Q)=>Q+1).concat(-1)}const X={phoneNumberTypes:H(20),emailTypes:H(4),addressTypes:H(3),eventTypes:H(3),imTypes:H(8),websiteTypes:H(7)},nl={slot:"headline"},ol={slot:"content"},sl=["error","error-text"],al={slot:"actions"},dl=de({__name:"PromptModal",props:{do:{type:Function,required:!0},title:{type:String,required:!0},value:{type:String}},setup(g){const $=g,{handleSubmit:Q}=Ae(),d=I(),{value:C,resetField:M,errorMessage:w}=Se("inputValue",Ne().required()),k=Q(()=>{$.do(C.value??""),E()});return C.value=$.value,$.value||M(),(async()=>{var S;await qe(),(S=d.value)==null||S.focus()})(),(S,q)=>(n(),o("md-dialog",null,[e("div",nl,_(g.title),1),e("div",ol,[m(e("md-outlined-text-field",{ref_key:"inputRef",ref:d,class:"form-control",error:u(w),"error-text":u(w)?S.$t(u(w)):"","onUpdate:modelValue":q[0]||(q[0]=N=>et(C)?C.value=N:null),onKeyup:q[1]||(q[1]=tt((...N)=>u(k)&&u(k)(...N),["enter"]))},null,40,sl),[[v,u(C)]])]),e("div",al,[e("md-outlined-button",{value:"cancel",onClick:q[2]||(q[2]=(...N)=>u(E)&&u(E)(...N))},_(S.$t("cancel")),1),e("md-filled-button",{value:"ok",onClick:q[3]||(q[3]=(...N)=>u(k)&&u(k)(...N)),autofocus:""},_(S.$t("ok")),1)])]))}});const ul=Ve(dl,[["__scopeId","data-v-263cf3df"]]),il={slot:"headline"},rl={slot:"content"},cl={class:"form-label"},_l={class:"form-row"},pl=["label"],ml=["label"],hl=["label"],fl={key:1,class:"v-center"},vl=e("md-ripple",null,null,-1),bl={key:0,class:"form-row"},$l=["label"],yl=["label"],gl={class:"v-center"},kl=e("md-ripple",null,null,-1),Cl={class:"form-label"},wl=["onUpdate:modelValue","onChange"],Nl=["value","headline"],ql=["placeholder","onUpdate:modelValue"],Vl={class:"v-center"},Tl=["onClick"],Ul=e("md-ripple",null,null,-1),Il={key:1,class:"form-label"},Al=["onUpdate:modelValue","onChange"],Sl=["value","headline"],Dl=["label","onUpdate:modelValue"],Ll={class:"v-center"},Ml=["onClick"],Fl=e("md-ripple",null,null,-1),xl={key:2,class:"form-label"},Rl=["onUpdate:modelValue","onChange"],Bl=["value","headline"],Ql=["label","onUpdate:modelValue"],zl={class:"v-center"},Zl=["onClick"],jl=e("md-ripple",null,null,-1),El={key:3,class:"form-label"},Ol=["onUpdate:modelValue","onChange"],Gl=["value","headline"],Hl=["placeholder","onUpdate:modelValue"],Kl={class:"v-center"},Jl=["onClick"],Wl=e("md-ripple",null,null,-1),Xl={key:4,class:"form-label"},Yl=["onUpdate:modelValue","onChange"],Pl=["value","headline"],en=["placeholder","onUpdate:modelValue"],tn={class:"v-center"},ln=["onClick"],nn=e("md-ripple",null,null,-1),on={class:"form-row",style:{display:"block",position:"relative"}},sn={class:"menu-items"},an=["headline","onClick"],dn=["headline","onClick"],un=["headline","onClick"],rn=["headline","onClick"],cn=["headline","onClick"],_n={class:"form-row"},pn=["label"],mn={slot:"actions"},hn=["disabled"],we=de({__name:"EditContactModal",props:{data:{type:Object},sources:{type:Array},done:{type:Function,required:!0}},setup(g){const $=g,{handleSubmit:Q}=Ae(),d=Te({firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",nickname:"",organization:null,notes:"",source:"",starred:0,phoneNumbers:[],emails:[],addresses:[],websites:[],events:[],ims:[],groupIds:[]}),C=I(!1),{t:M}=Ue(),{mutate:w,loading:k,onDone:S}=se({document:ve`
    mutation createContact($input: ContactInput!) {
      createContact(input: $input) {
        ...ContactFragment
      }
    }
    ${be}
  `,options:{update:()=>{$.done()}},appApi:!0}),{mutate:q,loading:N,onDone:K}=se({document:ve`
    mutation updateContact($id: ID!, $input: ContactInput!) {
      updateContact(id: $id, input: $input) {
        ...ContactFragment
      }
    }
    ${be}
  `,options:{update:()=>{$.done()}},appApi:!0}),{value:z,resetField:O,errorMessage:J}=Se("inputValue",Ne().test("required",l=>"valid.required",l=>!0).test("target-value",l=>"invalid_value",l=>!0)),F=(l,c)=>{l.splice(0,l.length);for(const U of c)l.push({label:U.label,value:U.value,type:U.type})};(()=>{const l=$.data;l?(Object.assign(d,{firstName:l.firstName,middleName:l.middleName,lastName:l.lastName,prefix:l.prefix,suffix:l.suffix,notes:l.notes}),F(d.phoneNumbers,l.phoneNumbers),F(d.emails,l.emails),F(d.addresses,l.addresses),F(d.websites,l.websites),F(d.events,l.events),F(d.ims,l.ims)):(Object.assign(d,{firstName:"",middleName:"",lastName:"",prefix:"",suffix:"",notes:"",phoneNumbers:[{type:2,value:"",label:""}],emails:[],addresses:[],websites:[],events:[],ims:[]}),O())})();const Z=l=>{l.type===-1&&lt(ul,{value:l.label,title:M("custom"),do:c=>{l.label=c}})},x=(l,c,U)=>c===-1?l.label?l.label:M("custom"):M(`contact.${U}.${c}`),D=(l,c)=>{c.push({type:1,value:"",label:""}),l.close()},j=(l,c)=>{l.splice(c,1)},P=Q(()=>{var l,c;$.data?q({id:$.data.id,input:d}):(d.source=((c=(l=$.sources)==null?void 0:l[0])==null?void 0:c.name)??"",w({input:d}))});return S(()=>{E()}),K(()=>{E()}),(l,c)=>{const U=ll,le=Xt,V=Ie,ee=nt;return n(),o("md-dialog",null,[e("div",il,_(g.data?l.$t("edit"):l.$t("create")),1),e("div",rl,[e("label",cl,_(l.$t("name")),1),e("div",_l,[m(e("md-outlined-text-field",{label:l.$t("first_name"),"onUpdate:modelValue":c[0]||(c[0]=s=>d.firstName=s)},null,8,pl),[[v,d.firstName]]),C.value?m((n(),o("md-outlined-text-field",{key:0,label:l.$t("middle_name"),"onUpdate:modelValue":c[1]||(c[1]=s=>d.middleName=s)},null,8,ml)),[[v,d.middleName]]):T("",!0),m(e("md-outlined-text-field",{label:l.$t("last_name"),"onUpdate:modelValue":c[2]||(c[2]=s=>d.lastName=s)},null,8,hl),[[v,d.lastName]]),C.value?T("",!0):(n(),o("div",fl,[e("button",{class:"icon-button",onClick:c[3]||(c[3]=s=>C.value=!0)},[vl,h(U)])]))]),C.value?(n(),o("div",bl,[m(e("md-outlined-text-field",{label:l.$t("prefix"),"onUpdate:modelValue":c[4]||(c[4]=s=>d.prefix=s)},null,8,$l),[[v,d.prefix]]),m(e("md-outlined-text-field",{label:l.$t("suffix"),"onUpdate:modelValue":c[5]||(c[5]=s=>d.suffix=s)},null,8,yl),[[v,d.suffix]]),e("div",gl,[e("button",{class:"icon-button",onClick:c[6]||(c[6]=s=>C.value=!1)},[kl,h(le)])])])):T("",!0),e("label",Cl,_(l.$t("phone_number")),1),(n(!0),o(f,null,b(d.phoneNumbers,(s,y)=>(n(),o("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":a=>s.type=a,onChange:a=>Z(s)},[(n(!0),o(f,null,b(u(X).phoneNumberTypes,a=>(n(),o("md-select-option",{key:a,value:a,headline:x(s,a,"phone_number_type")},null,8,Nl))),128))],40,wl),[[v,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("telephone"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,ql),[[v,s.value]]),e("div",Vl,[d.phoneNumbers.length>1?(n(),o("button",{key:0,class:"icon-button",onClick:a=>j(d.phoneNumbers,y)},[Ul,h(V)],8,Tl)):T("",!0)])]))),128)),d.emails.length?(n(),o("label",Il,_(l.$t("email")),1)):T("",!0),(n(!0),o(f,null,b(d.emails,(s,y)=>(n(),o("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":a=>s.type=a,onChange:a=>Z(s)},[(n(!0),o(f,null,b(u(X).emailTypes,a=>(n(),o("md-select-option",{key:a,value:a,headline:x(s,a,"email_type")},null,8,Sl))),128))],40,Al),[[v,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{label:l.$t("email"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Dl),[[v,s.value]]),e("div",Ll,[e("button",{class:"icon-button",onClick:a=>j(d.emails,y)},[Fl,h(V)],8,Ml)])]))),128)),d.addresses.length?(n(),o("label",xl,_(l.$t("address")),1)):T("",!0),(n(!0),o(f,null,b(d.addresses,(s,y)=>(n(),o("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":a=>s.type=a,onChange:a=>Z(s)},[(n(!0),o(f,null,b(u(X).addressTypes,a=>(n(),o("md-select-option",{key:a,value:a,headline:x(s,a,"address_type")},null,8,Bl))),128))],40,Rl),[[v,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{label:l.$t("address"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Ql),[[v,s.value]]),e("div",zl,[e("button",{class:"icon-button",onClick:a=>j(d.addresses,y)},[jl,h(V)],8,Zl)])]))),128)),d.websites.length?(n(),o("label",El,_(l.$t("website")),1)):T("",!0),(n(!0),o(f,null,b(d.websites,(s,y)=>(n(),o("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":a=>s.type=a,onChange:a=>Z(s)},[(n(!0),o(f,null,b(u(X).websiteTypes,a=>(n(),o("md-select-option",{key:a,value:a,headline:x(s,a,"website_type")},null,8,Gl))),128))],40,Ol),[[v,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("website"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,Hl),[[v,s.value]]),e("div",Kl,[e("button",{class:"icon-button",onClick:a=>j(d.websites,y)},[Wl,h(V)],8,Jl)])]))),128)),d.ims.length?(n(),o("label",Xl,_(l.$t("im")),1)):T("",!0),(n(!0),o(f,null,b(d.ims,(s,y)=>(n(),o("div",{class:"form-row",key:y},[m(e("md-outlined-select",{class:"flex-2","menu-fixed":"true","onUpdate:modelValue":a=>s.type=a,onChange:a=>Z(s)},[(n(!0),o(f,null,b(u(X).imTypes,a=>(n(),o("md-select-option",{key:a,value:a,headline:x(s,a,"im_type")},null,8,Pl))),128))],40,Yl),[[v,s.type,void 0,{number:!0}]]),m(e("md-outlined-text-field",{placeholder:l.$t("im"),"onUpdate:modelValue":a=>s.value=a,class:"flex-3"},null,8,en),[[v,s.value]]),e("div",tn,[e("button",{class:"icon-button",onClick:a=>j(d.ims,y)},[nn,h(V)],8,ln)])]))),128)),e("div",on,[h(ee,{placement:"auto"},{content:ae(s=>[e("div",sn,[e("md-menu-item",{headline:l.$t("phone_number"),onClick:()=>D(s,d.phoneNumbers)},null,8,an),e("md-menu-item",{headline:l.$t("email"),onClick:()=>D(s,d.emails)},null,8,dn),e("md-menu-item",{headline:l.$t("address"),onClick:()=>D(s,d.addresses)},null,8,un),e("md-menu-item",{headline:l.$t("website"),onClick:()=>D(s,d.websites)},null,8,rn),e("md-menu-item",{headline:l.$t("im"),onClick:()=>D(s,d.ims)},null,8,cn)])]),default:ae(()=>[e("div",null,[e("md-outlined-button",null,_(l.$t("add_field")),1)])]),_:1})]),e("div",_n,[m(e("md-outlined-text-field",{type:"textarea",label:l.$t("notes"),"onUpdate:modelValue":c[7]||(c[7]=s=>d.notes=s),rows:"3"},null,8,pn),[[v,d.notes]])])]),e("div",mn,[e("md-outlined-button",{value:"cancel",onClick:c[8]||(c[8]=(...s)=>u(E)&&u(E)(...s))},_(l.$t("cancel")),1),e("md-filled-button",{value:"save",disabled:u(k)||u(N),onClick:c[9]||(c[9]=(...s)=>u(P)&&u(P)(...s)),autofocus:""},_(l.$t("save")),9,hn)])])}}}),A=g=>(qt("data-v-52c57b3a"),g=g(),Vt(),g),fn={class:"v-toolbar"},vn=A(()=>e("md-ripple",null,null,-1)),bn={class:"icon-button",style:{display:"none"}},$n=A(()=>e("md-ripple",null,null,-1)),yn=A(()=>e("md-ripple",null,null,-1)),gn={class:"filters"},kn=["label"],Cn={class:"form-label"},wn={type:"filter"},Nn=["label","selected","onClick"],qn={class:"buttons"},Vn=["onClick"],Tn={class:"table-responsive"},Un={class:"table"},In=["checked","indeterminate"],An=A(()=>e("th",null,"ID",-1)),Sn=A(()=>e("th",null,null,-1)),Dn=A(()=>e("th",null,null,-1)),Ln=["onClick"],Mn=["checked"],Fn=["src"],xn={class:"nowrap"},Rn={class:"nowrap"},Bn={class:"list-unstyled"},Qn={key:0,indeterminate:"",class:"spinner-sm"},zn=["onClick"],Zn=A(()=>e("md-ripple",null,null,-1)),jn={class:"nowrap"},En={class:"action-btns"},On=["onClick"],Gn=A(()=>e("md-ripple",null,null,-1)),Hn=["onClick"],Kn=A(()=>e("md-ripple",null,null,-1)),Jn=["onClick"],Wn=A(()=>e("md-ripple",null,null,-1)),Xn={class:"nowrap"},Yn={key:0},Pn={colspan:"9"},eo={class:"no-data-placeholder"},Y=50,to=de({__name:"ContactsView",setup(g){var me,he;const $=ot(),{app:Q}=st(at()),d=I([]),C=I(),{t:M}=Ue(),w=Te({text:"",tags:[]}),k=dt.CONTACT,q=ut().query,N=I(parseInt(((me=q.page)==null?void 0:me.toString())??"1")),K=I([]),z=I(it(((he=q.q)==null?void 0:he.toString())??"")),O=I(""),{tags:J}=Qt(k,z,w,async t=>{O.value=vt(t),await qe(),y()}),{addToTags:F}=zt(k,d,J),{deleteItems:Z}=Je(bt,()=>{l(),a(),G.emit("refetch_tags",k)},d),{allChecked:x,realAllChecked:D,selectRealAll:j,allCheckedAlertVisible:P,clearSelection:l,toggleAllChecked:c,toggleItemChecked:U,toggleRow:le,total:V,checked:ee}=We(d),{loading:s,load:y,refetch:a}=rt({handle:(t,p)=>{p?$e(M(p),"error"):t&&(d.value=t.contacts.map(L=>({...L,checked:!1})),V.value=t.contactCount)},document:$t,variables:()=>({offset:(N.value-1)*Y,limit:Y,query:O.value}),appApi:!0});ct({handle:(t,p)=>{p?$e(M(p),"error"):t&&(K.value=t.contactSources)},document:yt,variables:null,appApi:!0}),_t(N,t=>{ye($,`/contacts?page=${t}&q=${ge(z.value)}`)});function De(){z.value=Tt(w),ue(),C.value.dismiss()}function ue(){ye($,`/contacts?q=${ge(z.value)}`)}const ie=t=>{t.type===k&&(l(),a())},re=t=>{t.type===k&&a()};pt(()=>{G.on("item_tags_updated",re),G.on("items_tags_updated",ie)}),mt(()=>{G.off("item_tags_updated",re),G.off("items_tags_updated",ie)});function Le(t){te(Ut,{type:k,tags:J.value,item:{key:t.id,title:"",size:0},selected:J.value.filter(p=>t.tags.some(L=>L.id===p.id))})}function ce(t){let p="";Ce(t.firstName)||Ce(t.lastName)?p=`${t.lastName}${t.middleName}${t.firstName}`:p=[t.firstName,t.middleName,t.lastName].filter(ne=>ne).join(" ");const L=t.suffix?`, ${t.suffix}`:"",W=`${t.prefix} ${p} ${L}`.trim();return W||(t.emails.length?t.emails[0].value:"")}function Me(t){w.tags.includes(t)?It(w.tags,p=>p.id===t.id):w.tags.push(t)}function Fe(t){te(St,{id:t.id,name:ce(t),gql:At`
      mutation DeleteContact($query: String!) {
        deleteContacts(query: $query)
      }
    `,variables:()=>({query:`ids:${t.id}`}),appApi:!0,typeName:"Contact",done:()=>{V.value--,t.tags.length&&G.emit("refetch_tags",k)}})}function xe(t){te(we,{data:t,sources:K,done:a})}function Re(){te(we,{data:null,sources:K,done:a})}const _e=I(""),pe=I(0),{mutate:Be,loading:Qe}=se({document:gt,appApi:!0});function ze(t,p,L){_e.value=t,pe.value=L,Be({number:p})}return(t,p)=>{const L=Rt,W=Ie,ne=Dt,fe=Lt,Ze=Xe,je=Ye,Ee=Mt,Oe=xt,Ge=Gt,He=Ft,Ke=Pe,R=ht("tooltip");return n(),o(f,null,[e("div",fn,[h(L,{current:()=>`${t.$t("page_title.contacts")} (${u(V)})`},null,8,["current"]),u(ee)?(n(),o(f,{key:0},[m((n(),o("button",{class:"icon-button",onClick:p[0]||(p[0]=B(i=>u(Z)(u(D),O.value),["stop"]))},[vn,h(W)])),[[R,t.$t("delete")]]),m((n(),o("button",bn,[$n,h(ne)])),[[R,t.$t("download")]]),m((n(),o("button",{class:"icon-button",onClick:p[1]||(p[1]=B(i=>u(F)(u(D),O.value),["stop"]))},[yn,h(fe)])),[[R,t.$t("add_to_tags")]])],64)):T("",!0),e("md-outlined-button",{onClick:Re,style:{"margin-inline-start":"16px"}},_(t.$t("create")),1),h(Ze,{ref_key:"searchInputRef",ref:C,modelValue:z.value,"onUpdate:modelValue":p[3]||(p[3]=i=>z.value=i),search:ue},{filters:ae(()=>[e("div",gn,[m(e("md-outlined-text-field",{label:t.$t("keywords"),"onUpdate:modelValue":p[2]||(p[2]=i=>w.text=i),"keyup.enter":"applyAndDoSearch"},null,8,kn),[[v,w.text]]),e("label",Cn,_(t.$t("tags")),1),e("md-chip-set",wn,[(n(!0),o(f,null,b(u(J),i=>(n(),o("md-filter-chip",{key:i.id,label:i.name,selected:w.tags.includes(i),onClick:r=>Me(i)},null,8,Nn))),128))]),e("div",qn,[e("md-filled-button",{onClick:B(De,["stop"])},_(t.$t("search")),9,Vn)])])]),_:1},8,["modelValue"])]),h(je,{limit:Y,total:u(V),"all-checked-alert-visible":u(P),"real-all-checked":u(D),"select-real-all":u(j),"clear-selection":u(l)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),e("div",Tn,[e("table",Un,[e("thead",null,[e("tr",null,[e("th",null,[e("md-checkbox",{"touch-target":"wrapper",onChange:p[4]||(p[4]=(...i)=>u(c)&&u(c)(...i)),checked:u(x),indeterminate:!u(x)&&u(ee)},null,40,In)]),An,e("th",null,_(t.$t("avatar")),1),e("th",null,_(t.$t("name")),1),Sn,Dn,e("th",null,_(t.$t("notes")),1),e("th",null,_(t.$t("tags")),1),e("th",null,_(t.$t("updated_at")),1)])]),e("tbody",null,[(n(!0),o(f,null,b(d.value,i=>(n(),o("tr",{key:i.id,class:kt({selected:i.checked}),onClick:B(r=>u(le)(i),["stop"])},[e("td",null,[e("md-checkbox",{"touch-target":"wrapper",onChange:p[5]||(p[5]=(...r)=>u(U)&&u(U)(...r)),checked:i.checked},null,40,Mn)]),e("td",null,[h(Ee,{id:i.id,raw:i},null,8,["id","raw"])]),e("td",null,[i.thumbnailId?(n(),o("img",{key:0,src:u(Ct)(i.thumbnailId),width:"50"},null,8,Fn)):T("",!0)]),e("td",xn,_(ce(i)),1),e("td",Rn,[e("ul",Bn,[(n(!0),o(f,null,b(i.phoneNumbers,(r,oe)=>(n(),o("li",{class:"v-center",key:oe},[ke(_(r.type>0?t.$t(`contact.phone_number_type.${r.type}`):r.label)+" "+_(r.normalizedNumber||r.value)+" ",1),u(Qe)&&_e.value===i.id&&pe.value===oe?(n(),o("md-circular-progress",Qn)):m((n(),o("button",{key:1,class:"icon-button",onClick:B(lo=>ze(i.id,r.normalizedNumber||r.value,oe),["stop"])},[Zn,h(Oe)],8,zn)),[[R,t.$t("make_a_phone_call")]])]))),128)),(n(!0),o(f,null,b(i.emails,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.email_type.${r.type}`):r.label)+" "+_(r.value),1))),256)),(n(!0),o(f,null,b(i.addresses,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.address_type.${r.type}`):r.label)+" "+_(r.value),1))),256)),(n(!0),o(f,null,b(i.websites,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.website_type.${r.type}`):r.label)+" "+_(r.value),1))),256)),(n(!0),o(f,null,b(i.ims,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.im_type.${r.type}`):r.label)+" "+_(r.value),1))),256)),(n(!0),o(f,null,b(i.events,r=>(n(),o("li",null,_(r.type>0?t.$t(`contact.event_type.${r.type}`):r.label)+" "+_(r.value),1))),256))])]),e("td",jn,[e("div",En,[m((n(),o("button",{class:"icon-button",onClick:B(r=>Fe(i),["stop"])},[Gn,h(W)],8,On)),[[R,t.$t("delete")]]),m((n(),o("button",{class:"icon-button",onClick:B(r=>xe(i),["stop"])},[Kn,h(Ge)],8,Hn)),[[R,t.$t("edit")]]),m((n(),o("button",{class:"icon-button",onClick:B(r=>Le(i),["stop"])},[Wn,h(fe)],8,Jn)),[[R,t.$t("add_to_tags")]])])]),e("td",null,_(i.notes),1),e("td",null,[h(He,{tags:i.tags,type:u(k)},null,8,["tags","type"])]),e("td",Xn,[m((n(),o("span",null,[ke(_(u(Nt)(i.updatedAt)),1)])),[[R,u(wt)(i.updatedAt)]])])],10,Ln))),128))]),d.value.length?T("",!0):(n(),o("tfoot",Yn,[e("tr",null,[e("td",Pn,[e("div",eo,_(t.$t(u(Bt)(u(s),u(Q).permissions,"READ_CONTACTS"))),1)])])]))])]),u(V)>Y?(n(),ft(Ke,{key:0,modelValue:N.value,"onUpdate:modelValue":p[6]||(p[6]=i=>N.value=i),total:u(V),limit:Y},null,8,["modelValue","total"])):T("",!0)],64)}}});const co=Ve(to,[["__scopeId","data-v-52c57b3a"]]);export{co as default};

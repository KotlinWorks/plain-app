import{_ as V}from"./VModal.vuevuetypescriptsetuptruelang-091ab08d.js";import{d as _,r as k,ab as F,E as S,ac as w,o as x,T as M,x as p,M as c,b as u,Q as q,O as B,g as e,N as C,f as m,ad as D}from"./index-66bea2e9.js";import{u as E,a as T}from"./vee-validate.esm-18b68f3d.js";const $=["placeholder"],K=["disabled"],Q=_({__name:"EditValueModal",props:{getVariables:{type:Function,required:!0},title:{type:String,required:!0},placeholder:{type:String},value:{type:String},mutation:{type:Function,required:!0},done:{type:Function}},setup(l){const s=l,{handleSubmit:v}=E(),d=k(),{mutate:f,loading:y,onDone:b}=s.mutation(),{value:a,resetField:g,errorMessage:r}=T("inputValue",F().required());a.value=s.value??"",a.value||g(),(async()=>{var t;await S(),(t=d.value)==null||t.focus()})();const i=v(()=>{f(s.getVariables(a.value??""))});return b(()=>{var t;(t=s.done)==null||t.call(this,a.value),w()}),(t,o)=>{const h=V;return x(),M(h,{title:l.title},{body:p(()=>[c(u("input",{ref_key:"input",ref:d,type:"text",placeholder:l.placeholder,class:"form-control","onUpdate:modelValue":o[0]||(o[0]=n=>q(a)?a.value=n:null),onKeyup:o[1]||(o[1]=B((...n)=>e(i)&&e(i)(...n),["enter"]))},null,40,$),[[C,e(a)]]),c(u("div",{class:"invalid-feedback"},m(e(r)?t.$t(e(r)):""),513),[[D,e(r)]])]),action:p(()=>[u("button",{type:"button",disabled:e(y),class:"btn",onClick:o[2]||(o[2]=(...n)=>e(i)&&e(i)(...n))},m(t.$t("save")),9,K)]),_:1},8,["title"])}}});export{Q as _};

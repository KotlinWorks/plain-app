import{j as d,aA as M,K as xe,bM as Le,ak as be,J as z,bK as sr,bN as Ge,r as x,C as ke,G as se,bO as cr,bP as fr,bQ as dr}from"./index-df35a132.js";/**
* vee-validate v4.7.4
* (c) 2023 Abdelrahman Awad
* @license MIT
*/function re(e){return typeof e=="function"}function $e(e){return e==null}const Q=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Ke(e){return Number(e)>=0}function vr(e){const r=parseFloat(e);return isNaN(r)?e:r}const mr={};function yr(e){return mr[e]}const Ie=Symbol("vee-validate-form"),gr=Symbol("vee-validate-field-instance"),Pe=Symbol("Default empty value"),hr=typeof window<"u";function je(e){return re(e)&&!!e.__locatorRef}function ce(e){return!!e&&re(e.validate)}function We(e){return e==="checkbox"||e==="radio"}function br(e){return Q(e)||Array.isArray(e)}function Ye(e){return Array.isArray(e)?e.length===0:Q(e)&&Object.keys(e).length===0}function Ve(e){return/^\[.+\]$/i.test(e)}function Vr(e){return He(e)&&e.multiple}function He(e){return e.tagName==="SELECT"}function Ar(e){return qe(e)&&e.target&&"submit"in e.target}function qe(e){return e?!!(typeof Event<"u"&&re(Event)&&e instanceof Event||e&&e.srcElement):!1}function k(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!k(e[i],r[i]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;for(i of e.entries())if(!k(i[1],r.get(i[0])))return!1;return!0}if(Ne(e)&&Ne(r))return!(e.size!==r.size||e.name!==r.name||e.lastModified!==r.lastModified||e.type!==r.type);if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(e[i]!==r[i])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var t=a[i];if(!k(e[t],r[t]))return!1}return!0}return e!==e&&r!==r}function Ne(e){return hr?e instanceof File:!1}function Be(e,r,n){typeof n.value=="object"&&(n.value=w(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||r==="__proto__"?Object.defineProperty(e,r,n):e[r]=n.value}function w(e){if(typeof e!="object")return e;var r=0,n,i,a,t=Object.prototype.toString.call(e);if(t==="[object Object]"?a=Object.create(e.__proto__||null):t==="[object Array]"?a=Array(e.length):t==="[object Set]"?(a=new Set,e.forEach(function(o){a.add(w(o))})):t==="[object Map]"?(a=new Map,e.forEach(function(o,v){a.set(w(v),w(o))})):t==="[object Date]"?a=new Date(+e):t==="[object RegExp]"?a=new RegExp(e.source,e.flags):t==="[object DataView]"?a=new e.constructor(w(e.buffer)):t==="[object ArrayBuffer]"?a=e.slice(0):t.slice(-6)==="Array]"&&(a=new e.constructor(e)),a){for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)Be(a,i[r],Object.getOwnPropertyDescriptor(e,i[r]));for(r=0,i=Object.getOwnPropertyNames(e);r<i.length;r++)Object.hasOwnProperty.call(a,n=i[r])&&a[n]===e[n]||Be(a,n,Object.getOwnPropertyDescriptor(e,n))}return a||e}function Ce(e){return Ve(e)?e.replace(/\[|\]/gi,""):e}function R(e,r,n){return e?Ve(r)?e[Ce(r)]:(r||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((a,t)=>br(a)&&t in a?a[t]:n,e):n}function K(e,r,n){if(Ve(r)){e[Ce(r)]=n;return}const i=r.split(/\.|\[(\d+)\]/).filter(Boolean);let a=e;for(let t=0;t<i.length;t++){if(t===i.length-1){a[i[t]]=n;return}(!(i[t]in a)||$e(a[i[t]]))&&(a[i[t]]=Ke(i[t+1])?[]:{}),a=a[i[t]]}}function Fe(e,r){if(Array.isArray(e)&&Ke(r)){e.splice(Number(r),1);return}Q(e)&&delete e[r]}function he(e,r){if(Ve(r)){delete e[Ce(r)];return}const n=r.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let t=0;t<n.length;t++){if(t===n.length-1){Fe(i,n[t]);break}if(!(n[t]in i)||$e(i[n[t]]))break;i=i[n[t]]}const a=n.map((t,o)=>R(e,n.slice(0,o).join(".")));for(let t=a.length-1;t>=0;t--)if(Ye(a[t])){if(t===0){Fe(e,n[0]);continue}Fe(a[t-1],n[t-1])}}function _(e){return Object.keys(e)}function Je(e,r=void 0){const n=Ge();return(n==null?void 0:n.provides[e])||fr(e,r)}function _e(e,r,n){if(Array.isArray(e)){const i=[...e],a=i.findIndex(t=>k(t,r));return a>=0?i.splice(a,1):i.push(r),i}return k(e,r)?n:r}function Te(e,r=0){let n=null,i=[];return function(...a){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const t=e(...a);i.forEach(o=>o(t)),i=[]},r),new Promise(t=>i.push(t))}}function Or(e,r){return Q(r)&&r.number?vr(e):e}function Me(e,r){let n;return async function(...a){const t=e(...a);n=t;const o=await t;return t!==n||(n=void 0,r(o,a)),o}}function Se(e){if(Qe(e))return e._value}function Qe(e){return"_value"in e}function Xe(e){if(!qe(e))return e;const r=e.target;if(We(r.type)&&Qe(r))return Se(r);if(r.type==="file"&&r.files){const n=Array.from(r.files);return r.multiple?n:n[0]}if(Vr(r))return Array.from(r.options).filter(n=>n.selected&&!n.disabled).map(Se);if(He(r)){const n=Array.from(r.options).find(i=>i.selected);return n?Se(n):r.value}return r.value}function Ze(e){const r={};return Object.defineProperty(r,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Q(e)&&e._$$isNormalized?e:Q(e)?Object.keys(e).reduce((n,i)=>{const a=Er(e[i]);return e[i]!==!1&&(n[i]=ze(a)),n},r):typeof e!="string"?r:e.split("|").reduce((n,i)=>{const a=wr(i);return a.name&&(n[a.name]=ze(a.params)),n},r):r}function Er(e){return e===!0?[]:Array.isArray(e)||Q(e)?e:[e]}function ze(e){const r=n=>typeof n=="string"&&n[0]==="@"?Fr(n.slice(1)):n;return Array.isArray(e)?e.map(r):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=r(e[i]),n),{})}const wr=e=>{let r=[];const n=e.split(":")[0];return e.includes(":")&&(r=e.split(":").slice(1).join(":").split(",")),{name:n,params:r}};function Fr(e){const r=n=>R(n,e)||n[e];return r.__locatorRef=e,r}function Sr(e){return Array.isArray(e)?e.filter(je):_(e).filter(r=>je(e[r])).map(r=>e[r])}const jr={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let _r=Object.assign({},jr);const Mr=()=>_r;async function er(e,r,n={}){const i=n==null?void 0:n.bails,a={name:(n==null?void 0:n.name)||"{field}",rules:r,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},o=(await kr(a,e)).errors;return{errors:o,valid:!o.length}}async function kr(e,r){if(ce(e.rules))return Ir(r,e.rules,{bails:e.bails});if(re(e.rules)||Array.isArray(e.rules)){const o={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:r},v=Array.isArray(e.rules)?e.rules:[e.rules],g=v.length,c=[];for(let E=0;E<g;E++){const h=v[E],O=await h(r,o);if(typeof O!="string"&&O)continue;const P=typeof O=="string"?O:rr(o);if(c.push(P),e.bails)return{errors:c}}return{errors:c}}const n=Object.assign(Object.assign({},e),{rules:Ze(e.rules)}),i=[],a=Object.keys(n.rules),t=a.length;for(let o=0;o<t;o++){const v=a[o],g=await Cr(n,r,{name:v,params:n.rules[v]});if(g.error&&(i.push(g.error),e.bails))return{errors:i}}return{errors:i}}async function Ir(e,r,n){var i;return{errors:await r.validate(e,{abortEarly:(i=n.bails)!==null&&i!==void 0?i:!0}).then(()=>[]).catch(t=>{if(t.name==="ValidationError")return t.errors;throw t})}}async function Cr(e,r,n){const i=yr(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const a=pr(n.params,e.formData),t={field:e.label||e.name,name:e.name,label:e.label,value:r,form:e.formData,rule:Object.assign(Object.assign({},n),{params:a})},o=await i(r,a,t);return typeof o=="string"?{error:o}:{error:o?void 0:rr(t)}}function rr(e){const r=Mr().generateMessage;return r?r(e):"Field is invalid"}function pr(e,r){const n=i=>je(i)?i(r):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,a)=>(i[a]=n(e[a]),i),{})}async function Rr(e,r){const n=await e.validate(r,{abortEarly:!1}).then(()=>[]).catch(t=>{if(t.name!=="ValidationError")throw t;return t.inner||[]}),i={},a={};for(const t of n){const o=t.errors;i[t.path]={valid:!o.length,errors:o},o.length&&(a[t.path]=o[0])}return{valid:!n.length,results:i,errors:a}}async function Pr(e,r,n){const a=_(e).map(async c=>{var E,h,O;const F=(E=n==null?void 0:n.names)===null||E===void 0?void 0:E[c],P=await er(R(r,c),e[c],{name:(F==null?void 0:F.name)||c,label:F==null?void 0:F.label,values:r,bails:(O=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[c])!==null&&O!==void 0?O:!0});return Object.assign(Object.assign({},P),{path:c})});let t=!0;const o=await Promise.all(a),v={},g={};for(const c of o)v[c.path]={valid:c.valid,errors:c.errors},c.valid||(t=!1,g[c.path]=c.errors[0]);return{valid:t,results:v,errors:g}}let De=0;function Nr(e,r){const{value:n,initialValue:i,setInitialValue:a}=nr(e,r.modelValue,r.form),{errorMessage:t,errors:o,setErrors:v}=Tr(e,r.form),g=Br(n,i,o),c=De>=Number.MAX_SAFE_INTEGER?0:++De;function E(h){var O;"value"in h&&(n.value=h.value),"errors"in h&&v(h.errors),"touched"in h&&(g.touched=(O=h.touched)!==null&&O!==void 0?O:g.touched),"initialValue"in h&&a(h.initialValue)}return{id:c,path:e,value:n,initialValue:i,meta:g,errors:o,errorMessage:t,setState:E}}function nr(e,r,n){const i=x(d(r));function a(){return n?R(n.meta.value.initialValues,d(e),d(i)):d(i)}function t(c){if(!n){i.value=c;return}n.stageInitialValue(d(e),c,!0)}const o=M(a);if(!n)return{value:x(a()),initialValue:o,setInitialValue:t};const v=r?d(r):R(n.values,d(e),d(o));return n.stageInitialValue(d(e),v,!0),{value:M({get(){return R(n.values,d(e))},set(c){n.setFieldValue(d(e),c)}}),initialValue:o,setInitialValue:t}}function Br(e,r,n){const i=ke({touched:!1,pending:!1,valid:!0,validated:!!d(n).length,initialValue:M(()=>d(r)),dirty:M(()=>!k(d(e),d(r)))});return z(n,a=>{i.valid=!a.length},{immediate:!0,flush:"sync"}),i}function Tr(e,r){function n(a){return a?Array.isArray(a)?a:[a]:[]}if(!r){const a=x([]);return{errors:a,errorMessage:M(()=>a.value[0]),setErrors:t=>{a.value=n(t)}}}const i=M(()=>r.errorBag.value[d(e)]||[]);return{errors:i,errorMessage:M(()=>i.value[0]),setErrors:a=>{r.setFieldErrorBag(d(e),n(a))}}}function Yr(e,r,n){return We(n==null?void 0:n.type)?Ur(e,r,n):tr(e,r,n)}function tr(e,r,n){const{initialValue:i,validateOnMount:a,bails:t,type:o,checkedValue:v,label:g,validateOnValueUpdate:c,uncheckedValue:E,controlled:h,keepValueOnUnmount:O,modelPropName:F,syncVModel:P,form:ne}=zr(d(e),n),Ae=h?Je(Ie):void 0,S=ne||Ae;let L=!1;const{id:fe,value:N,initialValue:te,meta:p,setState:X,errors:de,errorMessage:W}=Nr(e,{modelValue:i,form:S});P&&xr({value:N,prop:F,handleChange:C});const Oe=()=>{p.touched=!0},ve=M(()=>{let s=d(r);const V=d(S==null?void 0:S.schema);return V&&!ce(V)&&(s=Dr(V,d(e))||s),ce(s)||re(s)||Array.isArray(s)?s:Ze(s)});async function me(s){var V,I;return S!=null&&S.validateSchema?(V=(await S.validateSchema(s)).results[d(e)])!==null&&V!==void 0?V:{valid:!0,errors:[]}:er(N.value,ve.value,{name:d(e),label:d(g),values:(I=S==null?void 0:S.values)!==null&&I!==void 0?I:{},bails:t})}const D=Me(async()=>(p.pending=!0,p.validated=!0,me("validated-only")),s=>(L&&(s.valid=!0,s.errors=[]),X({errors:s.errors}),p.pending=!1,s)),Y=Me(async()=>me("silent"),s=>(L&&(s.valid=!0),p.valid=s.valid,s));function ie(s){return(s==null?void 0:s.mode)==="silent"?Y():D()}function C(s,V=!0){const I=Xe(s);N.value=I,!c&&V&&D()}xe(()=>{if(a)return D();(!S||!S.validateSchema)&&Y()});function H(s){p.touched=s}let B,ue=w(N.value);function G(){B=z(N,(s,V)=>{if(k(s,V)&&k(s,ue))return;(c?D:Y)(),ue=w(s)},{deep:!0})}G();function q(s){var V;B==null||B();const I=s&&"value"in s?s.value:te.value;X({value:w(I),initialValue:w(I),touched:(V=s==null?void 0:s.touched)!==null&&V!==void 0?V:!1,errors:(s==null?void 0:s.errors)||[]}),p.pending=!1,p.validated=!1,Y(),se(()=>{G()})}function Z(s){N.value=s}function ae(s){X({errors:Array.isArray(s)?s:[s]})}const $={id:fe,name:e,label:g,value:N,meta:p,errors:de,errorMessage:W,type:o,checkedValue:v,uncheckedValue:E,bails:t,keepValueOnUnmount:O,resetField:q,handleReset:()=>q(),validate:ie,handleChange:C,handleBlur:Oe,setState:X,setTouched:H,setErrors:ae,setValue:Z};if(Le(gr,$),be(r)&&typeof d(r)!="function"&&z(r,(s,V)=>{k(s,V)||(p.validated?D():Y())},{deep:!0}),!S)return $;S.register($),sr(()=>{L=!0,S.unregister($)});const Ee=M(()=>{const s=ve.value;return!s||re(s)||ce(s)||Array.isArray(s)?{}:Object.keys(s).reduce((V,I)=>{const le=Sr(s[I]).map(J=>J.__locatorRef).reduce((J,ee)=>{const ye=R(S.values,ee)||S.values[ee];return ye!==void 0&&(J[ee]=ye),J},{});return Object.assign(V,le),V},{})});return z(Ee,(s,V)=>{if(!Object.keys(s).length)return;!k(s,V)&&(p.validated?D():Y())}),$}function zr(e,r){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:e,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0});if(!r)return n();const i="valueProp"in r?r.valueProp:r.checkedValue,a="standalone"in r?!r.standalone:r.controlled;return Object.assign(Object.assign(Object.assign({},n()),r||{}),{controlled:a??!0,checkedValue:i})}function Dr(e,r){if(e)return e[r]}function Ur(e,r,n){const i=n!=null&&n.standalone?void 0:Je(Ie),a=n==null?void 0:n.checkedValue,t=n==null?void 0:n.uncheckedValue;function o(v){const g=v.handleChange,c=M(()=>{const h=d(v.value),O=d(a);return Array.isArray(h)?h.findIndex(F=>k(F,O))>=0:k(O,h)});function E(h,O=!0){var F;if(c.value===((F=h==null?void 0:h.target)===null||F===void 0?void 0:F.checked)){O&&v.validate();return}let P=Xe(h);i||(P=_e(d(v.value),d(a),d(t))),g(P,O)}return Object.assign(Object.assign({},v),{checked:c,checkedValue:a,uncheckedValue:t,handleChange:E})}return o(tr(e,r,n))}function xr({prop:e,value:r,handleChange:n}){const i=Ge();if(!i)return;const a=e||"modelValue",t=`update:${a}`;a in i.props&&(z(r,o=>{k(o,Ue(i,a))||i.emit(t,o)}),z(()=>Ue(i,a),o=>{if(o===Pe&&r.value===void 0)return;const v=o===Pe?void 0:o;k(v,Or(r.value,i.props.modelModifiers))||n(v)}))}function Ue(e,r){return e.props[r]}let Lr=0;function Hr(e){var r;const n=Lr++,i=new Set;let a=!1;const t=x({}),o=x(!1),v=x(0),g=[],c=ke(w(d(e==null?void 0:e.initialValues)||{})),{errorBag:E,setErrorBag:h,setFieldErrorBag:O}=Kr(e==null?void 0:e.initialErrors),F=M(()=>_(E.value).reduce((u,l)=>{const f=E.value[l];return f&&f.length&&(u[l]=f[0]),u},{}));function P(u){const l=t.value[u];return Array.isArray(l)?l[0]:l}function ne(u){return!!t.value[u]}const Ae=M(()=>_(t.value).reduce((u,l)=>{const f=P(l);return f&&(u[l]={name:d(f.name)||"",label:d(f.label)||""}),u},{})),S=M(()=>_(t.value).reduce((u,l)=>{var f;const m=P(l);return m&&(u[l]=(f=m.bails)!==null&&f!==void 0?f:!0),u},{})),L=Object.assign({},(e==null?void 0:e.initialErrors)||{}),fe=(r=e==null?void 0:e.keepValuesOnUnmount)!==null&&r!==void 0?r:!1,{initialValues:N,originalInitialValues:te,setInitialValues:p}=$r(t,c,e==null?void 0:e.initialValues),X=Gr(t,c,te,F),de=M(()=>[...i,..._(t.value)].reduce((u,l)=>{const f=R(c,l);return K(u,l,f),u},{})),W=e==null?void 0:e.validationSchema,Oe=Te(Re,5),ve=Te(Re,5),me=Me(async u=>await u==="silent"?Oe():ve(),(u,[l])=>{const f=C.fieldsByPath.value||{},m=_(C.errorBag.value);return[...new Set([..._(u.results),..._(f),...m])].reduce((y,b)=>{const j=f[b],U=(u.results[b]||{errors:[]}).errors,T={errors:U,valid:!U.length};if(y.results[b]=T,T.valid||(y.errors[b]=T.errors[0]),!j)return G(b,U),y;if(B(j,oe=>oe.meta.valid=T.valid),l==="silent")return y;const or=Array.isArray(j)?j.some(oe=>oe.meta.validated):j.meta.validated;return l==="validated-only"&&!or||B(j,oe=>oe.setState({errors:T.errors})),y},{valid:u.valid,results:{},errors:{}})});function D(u){return function(f,m){return function(y){return y instanceof Event&&(y.preventDefault(),y.stopPropagation()),V(_(t.value).reduce((b,j)=>(b[j]=!0,b),{})),o.value=!0,v.value++,ge().then(b=>{const j=w(c);if(b.valid&&typeof f=="function"){const U=w(de.value);return f(u?U:j,{evt:y,controlledValues:U,setErrors:q,setFieldError:G,setTouched:V,setFieldTouched:s,setValues:ae,setFieldValue:Z,resetForm:le,resetField:I})}!b.valid&&typeof m=="function"&&m({values:j,evt:y,errors:b.errors,results:b.results})}).then(b=>(o.value=!1,b),b=>{throw o.value=!1,b})}}}const ie=D(!1);ie.withControlled=D(!0);const C={formId:n,fieldsByPath:t,values:c,controlledValues:de,errorBag:E,errors:F,schema:W,submitCount:v,meta:X,isSubmitting:o,fieldArrays:g,keepValuesOnUnmount:fe,validateSchema:d(W)?me:void 0,validate:ge,register:ye,unregister:ir,setFieldErrorBag:O,validateField:we,setFieldValue:Z,setValues:ae,setErrors:q,setFieldError:G,setFieldTouched:s,setTouched:V,resetForm:le,resetField:I,handleSubmit:ie,stageInitialValue:ar,unsetInitialValue:ur,setFieldInitialValue:pe,useFieldModel:Ee};function H(u){return Array.isArray(u)}function B(u,l){return Array.isArray(u)?u.forEach(l):l(u)}function ue(u){Object.values(t.value).forEach(l=>{l&&B(l,u)})}function G(u,l){O(u,l)}function q(u){h(u)}function Z(u,l,{force:f}={force:!1}){var m;const A=t.value[u],y=w(l);if(!A){K(c,u,y);return}if(H(A)&&((m=A[0])===null||m===void 0?void 0:m.type)==="checkbox"&&!Array.isArray(l)){const j=w(_e(R(c,u)||[],l,void 0));K(c,u,j);return}let b=y;!H(A)&&A.type==="checkbox"&&!f&&!a&&(b=w(_e(R(c,u),l,d(A.uncheckedValue)))),K(c,u,b)}function ae(u){_(c).forEach(l=>{delete c[l]}),_(u).forEach(l=>{Z(l,u[l])}),g.forEach(l=>l&&l.reset())}function $(u){const{value:l}=nr(u,void 0,C);return z(l,()=>{ne(d(u))||ge({mode:"validated-only"})},{deep:!0}),i.add(d(u)),l}function Ee(u){return Array.isArray(u)?u.map($):$(u)}function s(u,l){const f=t.value[u];f&&B(f,m=>m.setTouched(l))}function V(u){_(u).forEach(l=>{s(l,!!u[l])})}function I(u,l){const f=t.value[u];f&&B(f,m=>m.resetField(l))}function le(u){a=!0,ue(f=>f.resetField());const l=u!=null&&u.values?u.values:te.value;p(l),ae(l),u!=null&&u.touched&&V(u.touched),q((u==null?void 0:u.errors)||{}),v.value=(u==null?void 0:u.submitCount)||0,se(()=>{a=!1})}function J(u,l){const f=dr(u),m=l;if(!t.value[m]){t.value[m]=f;return}const A=t.value[m];A&&!Array.isArray(A)&&(t.value[m]=[A]),t.value[m]=[...t.value[m],f]}function ee(u,l){const f=l,m=t.value[f];if(m){if(!H(m)&&u.id===m.id){delete t.value[f];return}if(H(m)){const A=m.findIndex(y=>y.id===u.id);if(A===-1)return;m.splice(A,1),m.length||delete t.value[f]}}}function ye(u){const l=d(u.name);J(u,l),be(u.name)&&z(u.name,async(m,A)=>{await se(),ee(u,A),J(u,m),(F.value[A]||F.value[m])&&(G(A,void 0),we(m)),await se(),ne(A)||he(c,A)});const f=d(u.errorMessage);f&&(L==null?void 0:L[l])!==f&&we(l),delete L[l]}function ir(u){const l=d(u.name),f=t.value[l],m=!!f&&H(f);ee(u,l),se(()=>{var A;const y=(A=d(u.keepValueOnUnmount))!==null&&A!==void 0?A:d(fe),b=R(c,l);if(m&&(f===t.value[l]||!t.value[l])&&!y)if(Array.isArray(b)){const U=b.findIndex(T=>k(T,d(u.checkedValue)));if(U>-1){const T=[...b];T.splice(U,1),Z(l,T,{force:!0})}}else b===d(u.checkedValue)&&he(c,l);if(!ne(l)){if(G(l,void 0),y||m&&Array.isArray(b)&&!Ye(b))return;he(c,l)}})}async function ge(u){const l=(u==null?void 0:u.mode)||"force";if(l==="force"&&ue(y=>y.meta.validated=!0),C.validateSchema)return C.validateSchema(l);const f=await Promise.all(Object.values(t.value).map(y=>{const b=Array.isArray(y)?y[0]:y;return b?b.validate(u).then(j=>({key:d(b.name),valid:j.valid,errors:j.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),m={},A={};for(const y of f)m[y.key]={valid:y.valid,errors:y.errors},y.errors.length&&(A[y.key]=y.errors[0]);return{valid:f.every(y=>y.valid),results:m,errors:A}}async function we(u){const l=t.value[u];return l?Array.isArray(l)?l.map(f=>f.validate())[0]:l.validate():Promise.resolve({errors:[],valid:!0})}function ur(u){he(N.value,u)}function ar(u,l,f=!1){K(c,u,l),pe(u,l),f&&!(e!=null&&e.initialValues)&&K(te.value,u,w(l))}function pe(u,l){K(N.value,u,w(l))}async function Re(){const u=d(W);return u?ce(u)?await Rr(u,c):await Pr(u,c,{names:Ae.value,bailsMap:S.value}):{valid:!0,results:{},errors:{}}}const lr=ie((u,{evt:l})=>{Ar(l)&&l.target.submit()});return xe(()=>{if(e!=null&&e.initialErrors&&q(e.initialErrors),e!=null&&e.initialTouched&&V(e.initialTouched),e!=null&&e.validateOnMount){ge();return}C.validateSchema&&C.validateSchema("silent")}),be(W)&&z(W,()=>{var u;(u=C.validateSchema)===null||u===void 0||u.call(C,"validated-only")}),Le(Ie,C),Object.assign(Object.assign({},C),{handleReset:()=>le(),submitForm:lr})}function Gr(e,r,n,i){const a={touched:"some",pending:"some",valid:"every"},t=M(()=>!k(r,d(n)));function o(){const g=Object.values(e.value).flat(1).filter(Boolean);return _(a).reduce((c,E)=>{const h=a[E];return c[E]=g[h](O=>O.meta[E]),c},{})}const v=ke(o());return cr(()=>{const g=o();v.touched=g.touched,v.valid=g.valid,v.pending=g.pending}),M(()=>Object.assign(Object.assign({initialValues:d(n)},v),{valid:v.valid&&!_(i.value).length,dirty:t.value}))}function $r(e,r,n){const i=x(w(d(n))||{}),a=x(w(d(n))||{});function t(o,v=!1){i.value=w(o),a.value=w(o),v&&_(e.value).forEach(g=>{const c=e.value[g],E=Array.isArray(c)?c.some(O=>O.meta.touched):c==null?void 0:c.meta.touched;if(!c||E)return;const h=R(i.value,g);K(r,g,w(h))})}return be(n)&&z(n,o=>{t(o,!0)},{deep:!0}),{initialValues:i,originalInitialValues:a,setInitialValues:t}}function Kr(e){const r=x({});function n(t){return Array.isArray(t)?t:t?[t]:[]}function i(t,o){if(!o){delete r.value[t];return}r.value[t]=n(o)}function a(t){r.value=_(t).reduce((o,v)=>{const g=t[v];return g&&(o[v]=n(g)),o},{})}return e&&a(e),{errorBag:r,setErrorBag:a,setFieldErrorBag:i}}export{Yr as a,Hr as u};
